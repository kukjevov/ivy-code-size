/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { Component, ChangeDetectionStrategy, Input, Inject, ChangeDetectorRef, Optional, Type, ContentChildren, QueryList, EventEmitter, forwardRef, resolveForwardRef, ElementRef, Attribute, TemplateRef, ContentChild } from "@angular/core";
import { extend, nameof, isBoolean, isPresent } from "@asseco/common";
import { BehaviorSubject } from "rxjs";
import { NG_SELECT_OPTIONS, KEYBOARD_HANDLER_TYPE, NORMAL_STATE_TYPE, POPUP_TYPE, POSITIONER_TYPE, READONLY_STATE_TYPE, VALUE_HANDLER_TYPE, LIVE_SEARCH_TYPE } from "../../misc/types";
import { NG_SELECT_PLUGIN_INSTANCES } from "./types";
import { BasicKeyboardHandlerComponent } from "../../plugins/keyboardHandler/components";
import { KEYBOARD_HANDLER } from "../../plugins/keyboardHandler/types";
import { NORMAL_STATE } from "../../plugins/normalState/types";
import { BasicNormalStateComponent } from "../../plugins/normalState/components";
import { POPUP } from "../../plugins/popup/types";
import { BasicPopupComponent } from "../../plugins/popup/component";
import { POSITIONER } from "../../plugins/positioner/types";
import { BasicPositionerComponent } from "../../plugins/positioner/components";
import { READONLY_STATE } from "../../plugins/readonlyState/types";
import { VALUE_HANDLER } from "../../plugins/valueHandler/types";
import { BasicValueHandlerComponent } from "../../plugins/valueHandler/components";
import { LIVE_SEARCH } from "../../plugins/liveSearch/types";
import { NoLiveSearchComponent } from "../../plugins/liveSearch/components";
import { TEXTS_LOCATOR } from "../../plugins/textsLocator/types";
import { NoTextsLocatorComponent } from "../../plugins/textsLocator/components";
import { OptionComponent } from "../option/option.component";
import { OptGroupComponent } from "../option/optgroup.component";
var ɵ0 = /**
 * @param {?} source
 * @param {?} target
 * @return {?}
 */
function (source, target) {
    return source == target;
}, ɵ1 = /**
 * @param {?} query
 * @return {?}
 */
function (query) {
    return (/**
     * @param {?} itm
     * @return {?}
     */
    function (itm) { return itm.text.indexOf(query) >= 0; });
};
/**
 * Default 'NgSelectOptions'
 * \@internal
 * @type {?}
 */
var defaultOptions = {
    autoInitialize: true,
    valueComparer: (ɵ0),
    liveSearchFilter: (ɵ1),
    cssClasses: {},
    plugins: {
        normalState: (/** @type {?} */ ({
            type: forwardRef((/**
             * @return {?}
             */
            function () { return BasicNormalStateComponent; }))
        })),
        textsLocator: (/** @type {?} */ ({
            type: forwardRef((/**
             * @return {?}
             */
            function () { return NoTextsLocatorComponent; }))
        })),
        liveSearch: (/** @type {?} */ ({
            type: forwardRef((/**
             * @return {?}
             */
            function () { return NoLiveSearchComponent; }))
        })),
        popup: (/** @type {?} */ ({
            type: forwardRef((/**
             * @return {?}
             */
            function () { return BasicPopupComponent; }))
        })),
        positioner: (/** @type {?} */ ({
            type: forwardRef((/**
             * @return {?}
             */
            function () { return BasicPositionerComponent; }))
        })),
        keyboardHandler: (/** @type {?} */ ({
            type: forwardRef((/**
             * @return {?}
             */
            function () { return BasicKeyboardHandlerComponent; }))
        })),
        readonlyState: (/** @type {?} */ ({
            type: forwardRef((/**
             * @return {?}
             */
            function () { return BasicNormalStateComponent; }))
        })),
        valueHandler: (/** @type {?} */ ({
            type: forwardRef((/**
             * @return {?}
             */
            function () { return BasicValueHandlerComponent; }))
        }))
    }
};
/**
 * NgSelect plugin instances factory method
 * \@internal
 * @return {?}
 */
export function ngSelectPluginInstancesFactory() {
    return {};
}
/**
 * Component that represents NgSelect itself, allows selection of value from options
 * @template TValue
 */
var NgSelectComponent = /** @class */ (function () {
    //######################### constructors #########################
    function NgSelectComponent(_changeDetector, _element, _pluginInstances, options, normalStateType, keyboardHandlerType, popupType, positionerType, readonlyStateType, valueHandlerType, liveSearchType, textsLocatorType, readonly, disabled, multiple) {
        this._changeDetector = _changeDetector;
        this._element = _element;
        this._pluginInstances = _pluginInstances;
        /**
         * Subject used for indication that NgSelect was initialized
         */
        this._initializedSubject = new BehaviorSubject(false);
        /**
         * Occurs when array of provided options has changed
         */
        this._optionsChange = new EventEmitter();
        /**
         * Occurs when array of visible, displayed options has changed
         */
        this._availableOptionsChange = new EventEmitter();
        /**
         * Array of available options to be displayed
         */
        this._availableOptions = [];
        /**
         * Gets current state of initialization
         */
        this.isInitialized = false;
        //at least on of following is present (value is not important)
        /** @type {?} */
        var readonlyDefault = isPresent(readonly) || isPresent(disabled);
        /** @type {?} */
        var multipleDefault = isPresent(multiple);
        /** @type {?} */
        var opts = extend(true, {}, options);
        if (!opts.plugins) {
            opts.plugins = {};
        }
        if (keyboardHandlerType) {
            if (!opts.plugins.keyboardHandler) {
                opts.plugins.keyboardHandler = {};
            }
            opts.plugins.keyboardHandler.type = keyboardHandlerType;
        }
        if (normalStateType) {
            if (!opts.plugins.normalState) {
                opts.plugins.normalState = {};
            }
            opts.plugins.normalState.type = normalStateType;
        }
        if (popupType) {
            if (!opts.plugins.popup) {
                opts.plugins.popup = {};
            }
            opts.plugins.popup.type = popupType;
        }
        if (positionerType) {
            if (!opts.plugins.positioner) {
                opts.plugins.positioner = {};
            }
            opts.plugins.positioner.type = positionerType;
        }
        if (readonlyStateType) {
            if (!opts.plugins.readonlyState) {
                opts.plugins.readonlyState = {};
            }
            opts.plugins.readonlyState.type = readonlyStateType;
        }
        if (valueHandlerType) {
            if (!opts.plugins.valueHandler) {
                opts.plugins.valueHandler = {};
            }
            opts.plugins.valueHandler.type = valueHandlerType;
        }
        if (liveSearchType) {
            if (!opts.plugins.liveSearch) {
                opts.plugins.liveSearch = {};
            }
            opts.plugins.liveSearch.type = liveSearchType;
        }
        if (textsLocatorType) {
            if (!opts.plugins.textsLocator) {
                opts.plugins.textsLocator = {};
            }
            opts.plugins.textsLocator.type = textsLocatorType;
        }
        this._selectOptions = extend(true, (/** @type {?} */ ({
            optionsGatherer: this,
            templateGatherer: this,
            readonly: readonlyDefault,
            plugins: {
                popup: {
                    options: (/** @type {?} */ ({
                        multiple: multipleDefault
                    }))
                },
                valueHandler: {
                    options: (/** @type {?} */ ({
                        multiple: multipleDefault
                    }))
                }
            }
        })), defaultOptions, opts);
    }
    Object.defineProperty(NgSelectComponent.prototype, "selectOptions", {
        get: /**
         * @return {?}
         */
        function () {
            return this._selectOptions;
        },
        //######################### public properties - inputs #########################
        /**
         * Gets or sets NgSelect options
         */
        set: 
        //######################### public properties - inputs #########################
        /**
         * Gets or sets NgSelect options
         * @param {?} options
         * @return {?}
         */
        function (options) {
            this._selectOptions = extend(true, this._selectOptions, options);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(NgSelectComponent.prototype, "initialized", {
        //######################### public properties - implementation of NgSelect #########################
        /**
         * Occurs every time when NgSelect is initialized or reinitialized, if value is false NgSelect was not initialized yet
         */
        get: 
        //######################### public properties - implementation of NgSelect #########################
        /**
         * Occurs every time when NgSelect is initialized or reinitialized, if value is false NgSelect was not initialized yet
         * @return {?}
         */
        function () {
            return this._initializedSubject.asObservable();
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(NgSelectComponent.prototype, "options", {
        //######################### public properties - implementation of OptionsGatherer #########################
        /**
         * Array of provided options for select
         * @internal
         */
        get: 
        //######################### public properties - implementation of OptionsGatherer #########################
        /**
         * Array of provided options for select
         * \@internal
         * @return {?}
         */
        function () {
            return this.optionsChildren.toArray();
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(NgSelectComponent.prototype, "optionsChange", {
        /**
         * Occurs when array of provided options has changed
         * @internal
         */
        get: /**
         * Occurs when array of provided options has changed
         * \@internal
         * @return {?}
         */
        function () {
            return this._optionsChange;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(NgSelectComponent.prototype, "availableOptions", {
        /**
         * Array of visible, displayed options for select
         * @internal
         */
        get: /**
         * Array of visible, displayed options for select
         * \@internal
         * @return {?}
         */
        function () {
            return this._availableOptions;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(NgSelectComponent.prototype, "availableOptionsChange", {
        /**
         * Occurs when array of visible, displayed options has changed
         * @internal
         */
        get: /**
         * Occurs when array of visible, displayed options has changed
         * \@internal
         * @return {?}
         */
        function () {
            return this._availableOptionsChange;
        },
        enumerable: true,
        configurable: true
    });
    //######################### public methods - implementation of OnChanges #########################
    /**
     * Called when input value changes
     */
    //######################### public methods - implementation of OnChanges #########################
    /**
     * Called when input value changes
     * @param {?} changes
     * @return {?}
     */
    NgSelectComponent.prototype.ngOnChanges = 
    //######################### public methods - implementation of OnChanges #########################
    /**
     * Called when input value changes
     * @param {?} changes
     * @return {?}
     */
    function (changes) {
        var _this = this;
        /** @type {?} */
        var updateReadonly = (/**
         * @param {?} state
         * @param {?} firstChange
         * @return {?}
         */
        function (state, firstChange) {
            //update options
            _this.selectOptions.readonly = state;
            if (!firstChange) {
                _this.initOptions();
                _this.initialize();
            }
        });
        if (nameof('disabled') in changes && isBoolean(this.disabled)) {
            updateReadonly(this.disabled, changes[nameof('disabled')].firstChange);
        }
        if (nameof('readonly') in changes && isBoolean(this.readonly)) {
            updateReadonly(this.readonly, changes[nameof('readonly')].firstChange);
        }
    };
    //######################### public methods - implementation of OnInit #########################
    /**
     * Initialize component
     */
    //######################### public methods - implementation of OnInit #########################
    /**
     * Initialize component
     * @return {?}
     */
    NgSelectComponent.prototype.ngOnInit = 
    //######################### public methods - implementation of OnInit #########################
    /**
     * Initialize component
     * @return {?}
     */
    function () {
        this.initOptions();
    };
    //######################### public methods - implementation of AfterViewInit #########################
    /**
     * Called when view was initialized
     */
    //######################### public methods - implementation of AfterViewInit #########################
    /**
     * Called when view was initialized
     * @return {?}
     */
    NgSelectComponent.prototype.ngAfterViewInit = 
    //######################### public methods - implementation of AfterViewInit #########################
    /**
     * Called when view was initialized
     * @return {?}
     */
    function () {
        var _this = this;
        this._availableOptions = this.options;
        this.optionsChildren.changes.subscribe((/**
         * @return {?}
         */
        function () {
            _this._availableOptions = _this.options;
            _this._optionsChange.emit();
            _this._availableOptionsChange.emit();
        }));
        if (this._selectOptions.autoInitialize) {
            this.initialize();
        }
    };
    //######################### public methods - implementation of OnDestroy #########################
    /**
     * Called when component is destroyed
     */
    //######################### public methods - implementation of OnDestroy #########################
    /**
     * Called when component is destroyed
     * @return {?}
     */
    NgSelectComponent.prototype.ngOnDestroy = 
    //######################### public methods - implementation of OnDestroy #########################
    /**
     * Called when component is destroyed
     * @return {?}
     */
    function () {
        if (this._searchValueChangeSubscription) {
            this._searchValueChangeSubscription.unsubscribe();
            this._searchValueChangeSubscription = null;
        }
        if (this.selectOptions.optionsGatherer) {
            this.selectOptions.optionsGatherer.destroyGatherer();
        }
    };
    //######################### public methods - implementation of OptionsGatherer #########################
    /**
     * Initialize gatherer during initialization phase
     * @internal
     */
    //######################### public methods - implementation of OptionsGatherer #########################
    /**
     * Initialize gatherer during initialization phase
     * \@internal
     * @return {?}
     */
    NgSelectComponent.prototype.initializeGatherer = 
    //######################### public methods - implementation of OptionsGatherer #########################
    /**
     * Initialize gatherer during initialization phase
     * \@internal
     * @return {?}
     */
    function () {
        var _this = this;
        /** @type {?} */
        var liveSearch = (/** @type {?} */ (this._pluginInstances[LIVE_SEARCH]));
        if (this._liveSearch && this._liveSearch != liveSearch) {
            this._searchValueChangeSubscription.unsubscribe();
            this._searchValueChangeSubscription = null;
            this._liveSearch = null;
        }
        if (!this._liveSearch) {
            this._liveSearch = liveSearch;
            this._searchValueChangeSubscription = this._liveSearch.searchValueChange.subscribe((/**
             * @return {?}
             */
            function () {
                if (!_this._liveSearch.searchValue) {
                    _this._availableOptions = _this.options;
                    _this._availableOptionsChange.emit();
                    return;
                }
                _this._availableOptions = _this.options.filter(_this.selectOptions.liveSearchFilter(_this._liveSearch.searchValue));
                _this._availableOptionsChange.emit();
            }));
        }
    };
    /**
     * Called when gatherer needs to be destroyed
     * @internal
     */
    /**
     * Called when gatherer needs to be destroyed
     * \@internal
     * @return {?}
     */
    NgSelectComponent.prototype.destroyGatherer = /**
     * Called when gatherer needs to be destroyed
     * \@internal
     * @return {?}
     */
    function () {
    };
    //######################### public methods - template bindings #########################
    /**
     * Sets normal state component
     * @param normalState Created normal state that is rendered
     * @internal
     */
    //######################### public methods - template bindings #########################
    /**
     * Sets normal state component
     * \@internal
     * @param {?} normalState Created normal state that is rendered
     * @return {?}
     */
    NgSelectComponent.prototype.setNormalStateComponent = 
    //######################### public methods - template bindings #########################
    /**
     * Sets normal state component
     * \@internal
     * @param {?} normalState Created normal state that is rendered
     * @return {?}
     */
    function (normalState) {
        if (!normalState) {
            return;
        }
        this._pluginInstances[NORMAL_STATE] = normalState;
        if (this._selectOptions.plugins && this._selectOptions.plugins.normalState && this._selectOptions.plugins.normalState.options) {
            normalState.options = this._selectOptions.plugins.normalState.options;
        }
        normalState.templateGatherer = this.selectOptions.templateGatherer;
        normalState.initOptions();
        if (this._selectOptions.plugins && this._selectOptions.plugins.normalState && this._selectOptions.plugins.normalState.instanceCallback) {
            this._selectOptions.plugins.normalState.instanceCallback(normalState);
        }
    };
    /**
     * Sets keyboard handler component
     * @param keyboardHandler Created keyboard handler that is rendered
     * @internal
     */
    /**
     * Sets keyboard handler component
     * \@internal
     * @param {?} keyboardHandler Created keyboard handler that is rendered
     * @return {?}
     */
    NgSelectComponent.prototype.setKeyboardHandlerComponent = /**
     * Sets keyboard handler component
     * \@internal
     * @param {?} keyboardHandler Created keyboard handler that is rendered
     * @return {?}
     */
    function (keyboardHandler) {
        if (!keyboardHandler) {
            return;
        }
        this._pluginInstances[KEYBOARD_HANDLER] = keyboardHandler;
        if (this._selectOptions.plugins && this._selectOptions.plugins.keyboardHandler && this._selectOptions.plugins.keyboardHandler.options) {
            keyboardHandler.options = this._selectOptions.plugins.keyboardHandler.options;
        }
        keyboardHandler.selectElement = this._element.nativeElement;
        keyboardHandler.optionsGatherer = this.selectOptions.optionsGatherer;
        keyboardHandler.initOptions();
        if (this._selectOptions.plugins && this._selectOptions.plugins.keyboardHandler && this._selectOptions.plugins.keyboardHandler.instanceCallback) {
            this._selectOptions.plugins.keyboardHandler.instanceCallback(keyboardHandler);
        }
    };
    /**
     * Sets popup component
     * @param popup Created popup that is rendered
     * @internal
     */
    /**
     * Sets popup component
     * \@internal
     * @param {?} popup Created popup that is rendered
     * @return {?}
     */
    NgSelectComponent.prototype.setPopupComponent = /**
     * Sets popup component
     * \@internal
     * @param {?} popup Created popup that is rendered
     * @return {?}
     */
    function (popup) {
        if (!popup) {
            return;
        }
        this._pluginInstances[POPUP] = popup;
        if (this._selectOptions.plugins && this._selectOptions.plugins.popup && this._selectOptions.plugins.popup.options) {
            popup.options = this._selectOptions.plugins.popup.options;
        }
        popup.selectElement = this._element.nativeElement;
        popup.optionsGatherer = this.selectOptions.optionsGatherer;
        popup.templateGatherer = this.selectOptions.templateGatherer;
        popup.initOptions();
        if (this._selectOptions.plugins && this._selectOptions.plugins.popup && this._selectOptions.plugins.popup.instanceCallback) {
            this._selectOptions.plugins.popup.instanceCallback(popup);
        }
    };
    /**
     * Sets positioner component
     * @param positioner Created positioner that is rendered
     * @internal
     */
    /**
     * Sets positioner component
     * \@internal
     * @param {?} positioner Created positioner that is rendered
     * @return {?}
     */
    NgSelectComponent.prototype.setPositionerComponent = /**
     * Sets positioner component
     * \@internal
     * @param {?} positioner Created positioner that is rendered
     * @return {?}
     */
    function (positioner) {
        if (!positioner) {
            return;
        }
        this._pluginInstances[POSITIONER] = positioner;
        if (this._selectOptions.plugins && this._selectOptions.plugins.positioner && this._selectOptions.plugins.positioner.options) {
            positioner.options = this._selectOptions.plugins.positioner.options;
        }
        positioner.selectElement = this._element.nativeElement;
        positioner.optionsGatherer = this.selectOptions.optionsGatherer;
        positioner.initOptions();
        if (this._selectOptions.plugins && this._selectOptions.plugins.positioner && this._selectOptions.plugins.positioner.instanceCallback) {
            this._selectOptions.plugins.positioner.instanceCallback(positioner);
        }
    };
    /**
     * Sets texts locator component
     * @param textsLocator Created texts locator that is rendered
     * @internal
     */
    /**
     * Sets texts locator component
     * \@internal
     * @param {?} textsLocator Created texts locator that is rendered
     * @return {?}
     */
    NgSelectComponent.prototype.setTextsLocatorComponent = /**
     * Sets texts locator component
     * \@internal
     * @param {?} textsLocator Created texts locator that is rendered
     * @return {?}
     */
    function (textsLocator) {
        if (!textsLocator) {
            return;
        }
        this._pluginInstances[TEXTS_LOCATOR] = textsLocator;
        if (this._selectOptions.plugins && this._selectOptions.plugins.textsLocator && this._selectOptions.plugins.textsLocator.options) {
            textsLocator.options = this._selectOptions.plugins.textsLocator.options;
        }
        textsLocator.initOptions();
        if (this._selectOptions.plugins && this._selectOptions.plugins.textsLocator && this._selectOptions.plugins.textsLocator.instanceCallback) {
            this._selectOptions.plugins.textsLocator.instanceCallback(textsLocator);
        }
    };
    /**
     * Sets readonly state component
     * @param readonlyState Created readonly state that is rendered
     * @internal
     */
    /**
     * Sets readonly state component
     * \@internal
     * @param {?} readonlyState Created readonly state that is rendered
     * @return {?}
     */
    NgSelectComponent.prototype.setReadonlyStateComponent = /**
     * Sets readonly state component
     * \@internal
     * @param {?} readonlyState Created readonly state that is rendered
     * @return {?}
     */
    function (readonlyState) {
        if (!readonlyState) {
            this._pluginInstances[READONLY_STATE] = null;
            return;
        }
        this._pluginInstances[READONLY_STATE] = readonlyState;
        this._pluginInstances[NORMAL_STATE] = readonlyState;
        if (this._selectOptions.plugins && this._selectOptions.plugins.readonlyState && this._selectOptions.plugins.readonlyState.options) {
            readonlyState.options = this._selectOptions.plugins.readonlyState.options;
        }
        /** @type {?} */
        var options = (/** @type {?} */ (readonlyState.options));
        options.readonly = true;
        readonlyState.initOptions();
        if (this._selectOptions.plugins && this._selectOptions.plugins.readonlyState && this._selectOptions.plugins.readonlyState.instanceCallback) {
            this._selectOptions.plugins.readonlyState.instanceCallback(readonlyState);
        }
    };
    /**
     * Sets value handler component
     * @param valueHandler Created value handler that is rendered
     * @internal
     */
    /**
     * Sets value handler component
     * \@internal
     * @param {?} valueHandler Created value handler that is rendered
     * @return {?}
     */
    NgSelectComponent.prototype.setValueHandlerComponent = /**
     * Sets value handler component
     * \@internal
     * @param {?} valueHandler Created value handler that is rendered
     * @return {?}
     */
    function (valueHandler) {
        if (!valueHandler) {
            return;
        }
        this._pluginInstances[VALUE_HANDLER] = valueHandler;
        if (this._selectOptions.plugins && this._selectOptions.plugins.valueHandler && this._selectOptions.plugins.valueHandler.options) {
            valueHandler.options = this._selectOptions.plugins.valueHandler.options;
        }
        valueHandler.valueComparer = this.selectOptions.valueComparer;
        valueHandler.optionsGatherer = this.selectOptions.optionsGatherer;
        valueHandler.initOptions();
        if (this._selectOptions.plugins && this._selectOptions.plugins.valueHandler && this._selectOptions.plugins.valueHandler.instanceCallback) {
            this._selectOptions.plugins.valueHandler.instanceCallback(valueHandler);
        }
    };
    /**
     * Sets live search component
     * @param liveSearch Created live search that is rendered
     * @internal
     */
    /**
     * Sets live search component
     * \@internal
     * @param {?} liveSearch Created live search that is rendered
     * @return {?}
     */
    NgSelectComponent.prototype.setLiveSearchComponent = /**
     * Sets live search component
     * \@internal
     * @param {?} liveSearch Created live search that is rendered
     * @return {?}
     */
    function (liveSearch) {
        if (!liveSearch) {
            return;
        }
        this._pluginInstances[LIVE_SEARCH] = liveSearch;
        if (this._selectOptions.plugins && this._selectOptions.plugins.liveSearch && this._selectOptions.plugins.liveSearch.options) {
            liveSearch.options = this._selectOptions.plugins.liveSearch.options;
        }
        liveSearch.initOptions();
        if (this._selectOptions.plugins && this._selectOptions.plugins.liveSearch && this._selectOptions.plugins.liveSearch.instanceCallback) {
            this._selectOptions.plugins.liveSearch.instanceCallback(liveSearch);
        }
    };
    //######################### public methods #########################
    /**
     * Initialize component, automatically called once if not blocked by options
     */
    //######################### public methods #########################
    /**
     * Initialize component, automatically called once if not blocked by options
     * @return {?}
     */
    NgSelectComponent.prototype.initialize = 
    //######################### public methods #########################
    /**
     * Initialize component, automatically called once if not blocked by options
     * @return {?}
     */
    function () {
        /** @type {?} */
        var liveSearchPlugin = (/** @type {?} */ (this._pluginInstances[LIVE_SEARCH]));
        this.liveSearchElement = [[liveSearchPlugin.liveSearchElement]];
        this._changeDetector.detectChanges();
        this.selectOptions.optionsGatherer.initializeGatherer();
        this._pluginInstances[LIVE_SEARCH].initialize();
        this._pluginInstances[TEXTS_LOCATOR].initialize();
        this._pluginInstances[KEYBOARD_HANDLER].initialize();
        this._pluginInstances[VALUE_HANDLER].initialize();
        this._pluginInstances[NORMAL_STATE].initialize();
        this._pluginInstances[POPUP].initialize();
        this._pluginInstances[POSITIONER].initialize();
        this.isInitialized = true;
        this._initializedSubject.next(true);
    };
    /**
     * Initialize options, automaticaly called during init phase, but can be used to reinitialize NgSelectOptions
     */
    /**
     * Initialize options, automaticaly called during init phase, but can be used to reinitialize NgSelectOptions
     * @return {?}
     */
    NgSelectComponent.prototype.initOptions = /**
     * Initialize options, automaticaly called during init phase, but can be used to reinitialize NgSelectOptions
     * @return {?}
     */
    function () {
        this.selectOptions.optionsGatherer.ngSelectPlugins = this._pluginInstances;
        if (this._selectOptions.plugins) {
            if (this._selectOptions.plugins.normalState) {
                this._selectOptions.plugins.normalState.type = resolveForwardRef(this._selectOptions.plugins.normalState.type);
                if (this._pluginInstances[NORMAL_STATE]) {
                    if (this._selectOptions.plugins && this._selectOptions.plugins.normalState && this._selectOptions.plugins.normalState.options) {
                        this._pluginInstances[NORMAL_STATE].options = this._selectOptions.plugins.normalState.options;
                    }
                    /** @type {?} */
                    var normalState = (/** @type {?} */ (this._pluginInstances[NORMAL_STATE]));
                    normalState.templateGatherer = this.selectOptions.templateGatherer;
                    this._pluginInstances[NORMAL_STATE].initOptions();
                }
            }
            if (this._selectOptions.plugins.textsLocator) {
                this._selectOptions.plugins.textsLocator.type = resolveForwardRef(this._selectOptions.plugins.textsLocator.type);
                if (this._pluginInstances[TEXTS_LOCATOR]) {
                    if (this._selectOptions.plugins && this._selectOptions.plugins.textsLocator && this._selectOptions.plugins.textsLocator.options) {
                        this._pluginInstances[TEXTS_LOCATOR].options = this._selectOptions.plugins.textsLocator.options;
                    }
                    this._pluginInstances[TEXTS_LOCATOR].initOptions();
                }
            }
            if (this._selectOptions.plugins.keyboardHandler) {
                this._selectOptions.plugins.keyboardHandler.type = resolveForwardRef(this._selectOptions.plugins.keyboardHandler.type);
                if (this._pluginInstances[KEYBOARD_HANDLER]) {
                    if (this._selectOptions.plugins && this._selectOptions.plugins.keyboardHandler && this._selectOptions.plugins.keyboardHandler.options) {
                        this._pluginInstances[KEYBOARD_HANDLER].options = this._selectOptions.plugins.keyboardHandler.options;
                    }
                    /** @type {?} */
                    var keyboardHandler = (/** @type {?} */ (this._pluginInstances[KEYBOARD_HANDLER]));
                    keyboardHandler.selectElement = this._element.nativeElement;
                    keyboardHandler.optionsGatherer = this.selectOptions.optionsGatherer;
                    this._pluginInstances[KEYBOARD_HANDLER].initOptions();
                }
            }
            if (this._selectOptions.plugins.popup) {
                this._selectOptions.plugins.popup.type = resolveForwardRef(this._selectOptions.plugins.popup.type);
                if (this._pluginInstances[POPUP]) {
                    if (this._selectOptions.plugins && this._selectOptions.plugins.popup && this._selectOptions.plugins.popup.options) {
                        this._pluginInstances[POPUP].options = this._selectOptions.plugins.popup.options;
                    }
                    /** @type {?} */
                    var popup = (/** @type {?} */ (this._pluginInstances[POPUP]));
                    popup.selectElement = this._element.nativeElement;
                    popup.optionsGatherer = this.selectOptions.optionsGatherer;
                    popup.templateGatherer = this.selectOptions.templateGatherer;
                    this._pluginInstances[POPUP].initOptions();
                }
            }
            if (this._selectOptions.plugins.positioner) {
                this._selectOptions.plugins.positioner.type = resolveForwardRef(this._selectOptions.plugins.positioner.type);
                if (this._pluginInstances[POSITIONER]) {
                    if (this._selectOptions.plugins && this._selectOptions.plugins.positioner && this._selectOptions.plugins.positioner.options) {
                        this._pluginInstances[POSITIONER].options = this._selectOptions.plugins.positioner.options;
                    }
                    /** @type {?} */
                    var positioner = (/** @type {?} */ (this._pluginInstances[POSITIONER]));
                    positioner.selectElement = this._element.nativeElement;
                    positioner.optionsGatherer = this.selectOptions.optionsGatherer;
                    this._pluginInstances[POSITIONER].initOptions();
                }
            }
            if (this._selectOptions.plugins.readonlyState) {
                this._selectOptions.plugins.readonlyState.type = resolveForwardRef(this._selectOptions.plugins.readonlyState.type);
                if (this._pluginInstances[READONLY_STATE]) {
                    if (this._selectOptions.plugins && this._selectOptions.plugins.readonlyState && this._selectOptions.plugins.readonlyState.options) {
                        this._pluginInstances[READONLY_STATE].options = this._selectOptions.plugins.readonlyState.options;
                    }
                    /** @type {?} */
                    var options = (/** @type {?} */ (this._pluginInstances[READONLY_STATE].options));
                    options.readonly = true;
                    this._pluginInstances[READONLY_STATE].initOptions();
                }
            }
            if (this._selectOptions.plugins.valueHandler) {
                this._selectOptions.plugins.valueHandler.type = resolveForwardRef(this._selectOptions.plugins.valueHandler.type);
                if (this._pluginInstances[VALUE_HANDLER]) {
                    if (this._selectOptions.plugins && this._selectOptions.plugins.valueHandler && this._selectOptions.plugins.valueHandler.options) {
                        this._pluginInstances[VALUE_HANDLER].options = this._selectOptions.plugins.valueHandler.options;
                    }
                    /** @type {?} */
                    var valueHandler = (/** @type {?} */ (this._pluginInstances[VALUE_HANDLER]));
                    valueHandler.valueComparer = this.selectOptions.valueComparer;
                    valueHandler.optionsGatherer = this.selectOptions.optionsGatherer;
                    this._pluginInstances[VALUE_HANDLER].initOptions();
                }
            }
            if (this._selectOptions.plugins.liveSearch) {
                this._selectOptions.plugins.liveSearch.type = resolveForwardRef(this._selectOptions.plugins.liveSearch.type);
                if (this._pluginInstances[LIVE_SEARCH]) {
                    if (this._selectOptions.plugins && this._selectOptions.plugins.liveSearch && this._selectOptions.plugins.liveSearch.options) {
                        this._pluginInstances[LIVE_SEARCH].options = this._selectOptions.plugins.liveSearch.options;
                    }
                    this._pluginInstances[LIVE_SEARCH].initOptions();
                }
            }
        }
    };
    /**
     * Explicitly runs invalidation of content (change detection)
     */
    /**
     * Explicitly runs invalidation of content (change detection)
     * @return {?}
     */
    NgSelectComponent.prototype.invalidateVisuals = /**
     * Explicitly runs invalidation of content (change detection)
     * @return {?}
     */
    function () {
        this._changeDetector.detectChanges();
    };
    /**
     * Gets instance of plugin by its id
     * @param pluginId Id of plugin, use constants
     */
    /**
     * Gets instance of plugin by its id
     * @template PluginType
     * @param {?} pluginId Id of plugin, use constants
     * @return {?}
     */
    NgSelectComponent.prototype.getPlugin = /**
     * Gets instance of plugin by its id
     * @template PluginType
     * @param {?} pluginId Id of plugin, use constants
     * @return {?}
     */
    function (pluginId) {
        return (/** @type {?} */ (this._pluginInstances[pluginId]));
    };
    /**
     * Executes actions on NgSelect
     * @param actions Array of actions that are executed over NgSelect
     */
    /**
     * Executes actions on NgSelect
     * @param {...?} actions Array of actions that are executed over NgSelect
     * @return {?}
     */
    NgSelectComponent.prototype.execute = /**
     * Executes actions on NgSelect
     * @param {...?} actions Array of actions that are executed over NgSelect
     * @return {?}
     */
    function () {
        var _this = this;
        var actions = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            actions[_i] = arguments[_i];
        }
        if (!actions) {
            return;
        }
        actions.forEach((/**
         * @param {?} action
         * @return {?}
         */
        function (action) { return action(_this); }));
    };
    /**
     * Executes function on NgSelect and returns result
     * @param func Function that is executed and its result is returned
     */
    /**
     * Executes function on NgSelect and returns result
     * @template TResult
     * @param {?} func Function that is executed and its result is returned
     * @return {?}
     */
    NgSelectComponent.prototype.executeAndReturn = /**
     * Executes function on NgSelect and returns result
     * @template TResult
     * @param {?} func Function that is executed and its result is returned
     * @return {?}
     */
    function (func) {
        if (!func) {
            return null;
        }
        return func(this);
    };
    NgSelectComponent.decorators = [
        { type: Component, args: [{
                    selector: 'ng-select',
                    template: "<ng-template [ngComponentOutletEx]=\"selectOptions?.plugins?.textsLocator?.type\" (ngComponentOutletExCreated)=\"setTextsLocatorComponent($event)\"></ng-template>\r\n<ng-template [ngComponentOutletEx]=\"selectOptions?.plugins?.liveSearch?.type\" (ngComponentOutletExCreated)=\"setLiveSearchComponent($event)\"></ng-template>\r\n<ng-template [ngComponentOutletEx]=\"selectOptions?.plugins?.positioner?.type\" (ngComponentOutletExCreated)=\"setPositionerComponent($event)\"></ng-template>\r\n<ng-template [ngComponentOutletEx]=\"selectOptions?.plugins?.keyboardHandler?.type\" (ngComponentOutletExCreated)=\"setKeyboardHandlerComponent($event)\"></ng-template>\r\n<ng-template [ngComponentOutletEx]=\"selectOptions?.plugins?.valueHandler?.type\" (ngComponentOutletExCreated)=\"setValueHandlerComponent($event)\"></ng-template>\r\n\r\n<div>\r\n    <ng-template [ngIf]=\"!selectOptions?.readonly\">\r\n        <ng-template [ngComponentOutletEx]=\"selectOptions?.plugins?.normalState?.type\" (ngComponentOutletExCreated)=\"setNormalStateComponent($event)\" [ngComponentOutletExContent]=\"liveSearchElement\"></ng-template>\r\n    </ng-template>\r\n\r\n    <ng-template [ngIf]=\"selectOptions?.readonly\">\r\n        <ng-template [ngComponentOutletEx]=\"selectOptions?.plugins?.readonlyState?.type\" (ngComponentOutletExCreated)=\"setReadonlyStateComponent($event)\"></ng-template>\r\n    </ng-template>\r\n\r\n    <ng-template [ngComponentOutletEx]=\"selectOptions?.plugins?.popup?.type\" (ngComponentOutletExCreated)=\"setPopupComponent($event)\" [ngComponentOutletExContent]=\"liveSearchElement\"></ng-template>\r\n</div>",
                    changeDetection: ChangeDetectionStrategy.OnPush,
                    providers: [
                        (/** @type {?} */ ({
                            provide: NG_SELECT_PLUGIN_INSTANCES,
                            useFactory: ngSelectPluginInstancesFactory
                        }))
                    ],
                    styles: [":host\n        {\n            display: block;\n            position: relative;\n        }"]
                }] }
    ];
    /** @nocollapse */
    NgSelectComponent.ctorParameters = function () { return [
        { type: ChangeDetectorRef },
        { type: ElementRef },
        { type: undefined, decorators: [{ type: Inject, args: [NG_SELECT_PLUGIN_INSTANCES,] }] },
        { type: undefined, decorators: [{ type: Inject, args: [NG_SELECT_OPTIONS,] }, { type: Optional }] },
        { type: Type, decorators: [{ type: Inject, args: [NORMAL_STATE_TYPE,] }, { type: Optional }] },
        { type: Type, decorators: [{ type: Inject, args: [KEYBOARD_HANDLER_TYPE,] }, { type: Optional }] },
        { type: Type, decorators: [{ type: Inject, args: [POPUP_TYPE,] }, { type: Optional }] },
        { type: Type, decorators: [{ type: Inject, args: [POSITIONER_TYPE,] }, { type: Optional }] },
        { type: Type, decorators: [{ type: Inject, args: [READONLY_STATE_TYPE,] }, { type: Optional }] },
        { type: Type, decorators: [{ type: Inject, args: [VALUE_HANDLER_TYPE,] }, { type: Optional }] },
        { type: Type, decorators: [{ type: Inject, args: [LIVE_SEARCH_TYPE,] }, { type: Optional }] },
        { type: Type, decorators: [{ type: Inject, args: [TEXTS_LOCATOR,] }, { type: Optional }] },
        { type: String, decorators: [{ type: Attribute, args: ['readonly',] }] },
        { type: String, decorators: [{ type: Attribute, args: ['disabled',] }] },
        { type: String, decorators: [{ type: Attribute, args: ['multiple',] }] }
    ]; };
    NgSelectComponent.propDecorators = {
        selectOptions: [{ type: Input }],
        disabled: [{ type: Input }],
        readonly: [{ type: Input }],
        normalStateTemplate: [{ type: ContentChild, args: ['normalStateTemplate',] }],
        optionTemplate: [{ type: ContentChild, args: ['optionTemplate',] }],
        optionsChildren: [{ type: ContentChildren, args: [OptionComponent,] }],
        optGroupsChildren: [{ type: ContentChildren, args: [OptGroupComponent,] }]
    };
    return NgSelectComponent;
}());
export { NgSelectComponent };
if (false) {
    /**
     * NgSelect options
     * @type {?}
     * @protected
     */
    NgSelectComponent.prototype._selectOptions;
    /**
     * Subject used for indication that NgSelect was initialized
     * @type {?}
     * @protected
     */
    NgSelectComponent.prototype._initializedSubject;
    /**
     * Occurs when array of provided options has changed
     * @type {?}
     * @protected
     */
    NgSelectComponent.prototype._optionsChange;
    /**
     * Occurs when array of visible, displayed options has changed
     * @type {?}
     * @protected
     */
    NgSelectComponent.prototype._availableOptionsChange;
    /**
     * Array of available options to be displayed
     * @type {?}
     * @protected
     */
    NgSelectComponent.prototype._availableOptions;
    /**
     * Live search plugin currently used in NgSelect
     * @type {?}
     * @protected
     */
    NgSelectComponent.prototype._liveSearch;
    /**
     * Subscription for changes of live search value
     * @type {?}
     * @protected
     */
    NgSelectComponent.prototype._searchValueChangeSubscription;
    /**
     * Indication whether should be NgSelect disabled or not
     * @type {?}
     */
    NgSelectComponent.prototype.disabled;
    /**
     * Indication whether should be NgSelect readonly or not
     * @type {?}
     */
    NgSelectComponent.prototype.readonly;
    /**
     * Gets current state of initialization
     * @type {?}
     */
    NgSelectComponent.prototype.isInitialized;
    /**
     * Template used within normal state
     * \@internal
     * @type {?}
     */
    NgSelectComponent.prototype.normalStateTemplate;
    /**
     * Template that is used within Popup as option
     * \@internal
     * @type {?}
     */
    NgSelectComponent.prototype.optionTemplate;
    /**
     * NgSelect plugin instances available for gatherer
     * \@internal
     * @type {?}
     */
    NgSelectComponent.prototype.ngSelectPlugins;
    /**
     * Element used for live search
     * \@internal
     * @type {?}
     */
    NgSelectComponent.prototype.liveSearchElement;
    /**
     * Options children found inside ng-select
     * \@internal
     * @type {?}
     */
    NgSelectComponent.prototype.optionsChildren;
    /**
     * Options groups children found inside ng-select
     * \@internal
     * @type {?}
     */
    NgSelectComponent.prototype.optGroupsChildren;
    /**
     * @type {?}
     * @protected
     */
    NgSelectComponent.prototype._changeDetector;
    /**
     * @type {?}
     * @protected
     */
    NgSelectComponent.prototype._element;
    /**
     * @type {?}
     * @protected
     */
    NgSelectComponent.prototype._pluginInstances;
}
export { ɵ0, ɵ1 };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2VsZWN0LmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3NyYy9jb21wb25lbnRzL3NlbGVjdC9zZWxlY3QuY29tcG9uZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7QUFBQSxPQUFPLEVBQUMsU0FBUyxFQUFFLHVCQUF1QixFQUFtQixLQUFLLEVBQUUsTUFBTSxFQUFFLGlCQUFpQixFQUFFLFFBQVEsRUFBRSxJQUFJLEVBQXlCLGVBQWUsRUFBRSxTQUFTLEVBQUUsWUFBWSxFQUFFLFVBQVUsRUFBRSxpQkFBaUIsRUFBRSxVQUFVLEVBQTRCLFNBQVMsRUFBYSxXQUFXLEVBQUUsWUFBWSxFQUFDLE1BQU0sZUFBZSxDQUFDO0FBQzNULE9BQU8sRUFBQyxNQUFNLEVBQUUsTUFBTSxFQUFFLFNBQVMsRUFBRSxTQUFTLEVBQUMsTUFBTSxnQkFBZ0IsQ0FBQztBQUNwRSxPQUFPLEVBQUMsZUFBZSxFQUEyQixNQUFNLE1BQU0sQ0FBQztBQUcvRCxPQUFPLEVBQUMsaUJBQWlCLEVBQUUscUJBQXFCLEVBQUUsaUJBQWlCLEVBQUUsVUFBVSxFQUFFLGVBQWUsRUFBRSxtQkFBbUIsRUFBRSxrQkFBa0IsRUFBRSxnQkFBZ0IsRUFBQyxNQUFNLGtCQUFrQixDQUFDO0FBRXJMLE9BQU8sRUFBQywwQkFBMEIsRUFBQyxNQUFNLFNBQVMsQ0FBQztBQUVuRCxPQUFPLEVBQUMsNkJBQTZCLEVBQUMsTUFBTSwwQ0FBMEMsQ0FBQztBQUN2RixPQUFPLEVBQUMsZ0JBQWdCLEVBQUMsTUFBTSxxQ0FBcUMsQ0FBQztBQUVyRSxPQUFPLEVBQUMsWUFBWSxFQUFDLE1BQU0saUNBQWlDLENBQUM7QUFDN0QsT0FBTyxFQUFDLHlCQUF5QixFQUFDLE1BQU0sc0NBQXNDLENBQUM7QUFFL0UsT0FBTyxFQUFDLEtBQUssRUFBQyxNQUFNLDJCQUEyQixDQUFDO0FBQ2hELE9BQU8sRUFBQyxtQkFBbUIsRUFBQyxNQUFNLCtCQUErQixD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Ozs7O0lBS2xDLDJEQUF1RDs7Ozs7SUFvQnZELHFDQUN5Qjs7Ozs7SUFLekIscUNBQ3lCOzs7OztJQWV6QiwwQ0FBc0M7Ozs7OztJQVF0QyxnREFDNEQ7Ozs7OztJQU01RCwyQ0FDa0Q7Ozs7OztJQTRDbEQsNENBQWdEOzs7Ozs7SUFRaEQsOENBQTBDOzs7Ozs7SUFRMUMsNENBQ3VEOzs7Ozs7SUFRdkQsOENBQzJEOzs7OztJQUcvQyw0Q0FBNEM7Ozs7O0lBQzVDLHFDQUEyQzs7Ozs7SUFDM0MsNkNBQXVGIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtDb21wb25lbnQsIENoYW5nZURldGVjdGlvblN0cmF0ZWd5LCBGYWN0b3J5UHJvdmlkZXIsIElucHV0LCBJbmplY3QsIENoYW5nZURldGVjdG9yUmVmLCBPcHRpb25hbCwgVHlwZSwgQWZ0ZXJWaWV3SW5pdCwgT25Jbml0LCBDb250ZW50Q2hpbGRyZW4sIFF1ZXJ5TGlzdCwgRXZlbnRFbWl0dGVyLCBmb3J3YXJkUmVmLCByZXNvbHZlRm9yd2FyZFJlZiwgRWxlbWVudFJlZiwgT25DaGFuZ2VzLCBTaW1wbGVDaGFuZ2VzLCBBdHRyaWJ1dGUsIE9uRGVzdHJveSwgVGVtcGxhdGVSZWYsIENvbnRlbnRDaGlsZH0gZnJvbSBcIkBhbmd1bGFyL2NvcmVcIjtcclxuaW1wb3J0IHtleHRlbmQsIG5hbWVvZiwgaXNCb29sZWFuLCBpc1ByZXNlbnR9IGZyb20gXCJAYXNzZWNvL2NvbW1vblwiO1xyXG5pbXBvcnQge0JlaGF2aW9yU3ViamVjdCwgT2JzZXJ2YWJsZSwgU3Vic2NyaXB0aW9ufSBmcm9tIFwicnhqc1wiO1xyXG5cclxuaW1wb3J0IHtOZ1NlbGVjdE9wdGlvbnMsIE5nU2VsZWN0UGx1Z2luLCBPcHRpb25zR2F0aGVyZXIsIFBsdWdpbkRlc2NyaXB0aW9uLCBUZW1wbGF0ZUdhdGhlcmVyfSBmcm9tIFwiLi4vLi4vbWlzY1wiO1xyXG5pbXBvcnQge05HX1NFTEVDVF9PUFRJT05TLCBLRVlCT0FSRF9IQU5ETEVSX1RZUEUsIE5PUk1BTF9TVEFURV9UWVBFLCBQT1BVUF9UWVBFLCBQT1NJVElPTkVSX1RZUEUsIFJFQURPTkxZX1NUQVRFX1RZUEUsIFZBTFVFX0hBTkRMRVJfVFlQRSwgTElWRV9TRUFSQ0hfVFlQRX0gZnJvbSBcIi4uLy4uL21pc2MvdHlwZXNcIjtcclxuaW1wb3J0IHtOZ1NlbGVjdCwgTmdTZWxlY3RQbHVnaW5JbnN0YW5jZXMsIE5nU2VsZWN0QWN0aW9uLCBOZ1NlbGVjdEZ1bmN0aW9ufSBmcm9tIFwiLi9zZWxlY3QuaW50ZXJmYWNlXCI7XHJcbmltcG9ydCB7TkdfU0VMRUNUX1BMVUdJTl9JTlNUQU5DRVN9IGZyb20gXCIuL3R5cGVzXCI7XHJcbmltcG9ydCB7S2V5Ym9hcmRIYW5kbGVyfSBmcm9tIFwiLi4vLi4vcGx1Z2lucy9rZXlib2FyZEhhbmRsZXJcIjtcclxuaW1wb3J0IHtCYXNpY0tleWJvYXJkSGFuZGxlckNvbXBvbmVudH0gZnJvbSBcIi4uLy4uL3BsdWdpbnMva2V5Ym9hcmRIYW5kbGVyL2NvbXBvbmVudHNcIjtcclxuaW1wb3J0IHtLRVlCT0FSRF9IQU5ETEVSfSBmcm9tIFwiLi4vLi4vcGx1Z2lucy9rZXlib2FyZEhhbmRsZXIvdHlwZXNcIjtcclxuaW1wb3J0IHtOb3JtYWxTdGF0ZSwgTm9ybWFsU3RhdGVDb250ZXh0fSBmcm9tIFwiLi4vLi4vcGx1Z2lucy9ub3JtYWxTdGF0ZVwiO1xyXG5pbXBvcnQge05PUk1BTF9TVEFURX0gZnJvbSBcIi4uLy4uL3BsdWdpbnMvbm9ybWFsU3RhdGUvdHlwZXNcIjtcclxuaW1wb3J0IHtCYXNpY05vcm1hbFN0YXRlQ29tcG9uZW50fSBmcm9tIFwiLi4vLi4vcGx1Z2lucy9ub3JtYWxTdGF0ZS9jb21wb25lbnRzXCI7XHJcbmltcG9ydCB7UG9wdXAsIFBvcHVwT3B0aW9ucywgUG9wdXBDb250ZXh0fSBmcm9tIFwiLi4vLi4vcGx1Z2lucy9wb3B1cFwiO1xyXG5pbXBvcnQge1BPUFVQfSBmcm9tIFwiLi4vLi4vcGx1Z2lucy9wb3B1cC90eXBlc1wiO1xyXG5pbXBvcnQge0Jhc2ljUG9wdXBDb21wb25lbnR9IGZyb20gXCIuLi8uLi9wbHVnaW5zL3BvcHVwL2NvbXBvbmVudFwiO1xyXG5pbXBvcnQge1Bvc2l0aW9uZXJ9IGZyb20gXCIuLi8uLi9wbHVnaW5zL3Bvc2l0aW9uZXJcIjtcclxuaW1wb3J0IHtQT1NJVElPTkVSfSBmcm9tIFwiLi4vLi4vcGx1Z2lucy9wb3NpdGlvbmVyL3R5cGVzXCI7XHJcbmltcG9ydCB7QmFzaWNQb3NpdGlvbmVyQ29tcG9uZW50fSBmcm9tIFwiLi4vLi4vcGx1Z2lucy9wb3NpdGlvbmVyL2NvbXBvbmVudHNcIjtcclxuaW1wb3J0IHtSZWFkb25seVN0YXRlLCBSZWFkb25seVN0YXRlT3B0aW9uc30gZnJvbSBcIi4uLy4uL3BsdWdpbnMvcmVhZG9ubHlTdGF0ZVwiO1xyXG5pbXBvcnQge1JFQURPTkxZX1NUQVRFfSBmcm9tIFwiLi4vLi4vcGx1Z2lucy9yZWFkb25seVN0YXRlL3R5cGVzXCI7XHJcbmltcG9ydCB7VmFsdWVIYW5kbGVyLCBWYWx1ZUhhbmRsZXJPcHRpb25zfSBmcm9tIFwiLi4vLi4vcGx1Z2lucy92YWx1ZUhhbmRsZXJcIjtcclxuaW1wb3J0IHtWQUxVRV9IQU5ETEVSfSBmcm9tIFwiLi4vLi4vcGx1Z2lucy92YWx1ZUhhbmRsZXIvdHlwZXNcIjtcclxuaW1wb3J0IHtCYXNpY1ZhbHVlSGFuZGxlckNvbXBvbmVudH0gZnJvbSBcIi4uLy4uL3BsdWdpbnMvdmFsdWVIYW5kbGVyL2NvbXBvbmVudHNcIjtcclxuaW1wb3J0IHtMaXZlU2VhcmNofSBmcm9tIFwiLi4vLi4vcGx1Z2lucy9saXZlU2VhcmNoXCI7XHJcbmltcG9ydCB7TElWRV9TRUFSQ0h9IGZyb20gXCIuLi8uLi9wbHVnaW5zL2xpdmVTZWFyY2gvdHlwZXNcIjtcclxuaW1wb3J0IHtOb0xpdmVTZWFyY2hDb21wb25lbnR9IGZyb20gXCIuLi8uLi9wbHVnaW5zL2xpdmVTZWFyY2gvY29tcG9uZW50c1wiO1xyXG5pbXBvcnQge1RleHRzTG9jYXRvcn0gZnJvbSBcIi4uLy4uL3BsdWdpbnMvdGV4dHNMb2NhdG9yXCI7XHJcbmltcG9ydCB7VEVYVFNfTE9DQVRPUn0gZnJvbSBcIi4uLy4uL3BsdWdpbnMvdGV4dHNMb2NhdG9yL3R5cGVzXCI7XHJcbmltcG9ydCB7Tm9UZXh0c0xvY2F0b3JDb21wb25lbnR9IGZyb20gXCIuLi8uLi9wbHVnaW5zL3RleHRzTG9jYXRvci9jb21wb25lbnRzXCI7XHJcbmltcG9ydCB7TmdTZWxlY3RPcHRpb24sIE5nU2VsZWN0T3B0R3JvdXB9IGZyb20gXCIuLi9vcHRpb25cIjtcclxuaW1wb3J0IHtPcHRpb25Db21wb25lbnR9IGZyb20gXCIuLi9vcHRpb24vb3B0aW9uLmNvbXBvbmVudFwiO1xyXG5pbXBvcnQge09wdEdyb3VwQ29tcG9uZW50fSBmcm9tIFwiLi4vb3B0aW9uL29wdGdyb3VwLmNvbXBvbmVudFwiO1xyXG5cclxuLyoqXHJcbiAqIERlZmF1bHQgJ05nU2VsZWN0T3B0aW9ucydcclxuICogQGludGVybmFsXHJcbiAqL1xyXG5jb25zdCBkZWZhdWx0T3B0aW9uczogTmdTZWxlY3RPcHRpb25zPGFueT4gPVxyXG57XHJcbiAgICBhdXRvSW5pdGlhbGl6ZTogdHJ1ZSxcclxuICAgIHZhbHVlQ29tcGFyZXI6IChzb3VyY2UsIHRhcmdldCkgPT5cclxuICAgIHtcclxuICAgICAgICByZXR1cm4gc291cmNlID09IHRhcmdldDtcclxuICAgIH0sXHJcbiAgICBsaXZlU2VhcmNoRmlsdGVyOiAocXVlcnk6IHN0cmluZykgPT5cclxuICAgIHtcclxuICAgICAgICByZXR1cm4gaXRtID0+IGl0bS50ZXh0LmluZGV4T2YocXVlcnkpID49IDA7XHJcbiAgICB9LFxyXG4gICAgY3NzQ2xhc3NlczpcclxuICAgIHtcclxuICAgIH0sXHJcbiAgICBwbHVnaW5zOlxyXG4gICAge1xyXG4gICAgICAgIG5vcm1hbFN0YXRlOiA8UGx1Z2luRGVzY3JpcHRpb248QmFzaWNOb3JtYWxTdGF0ZUNvbXBvbmVudD4+XHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0eXBlOiBmb3J3YXJkUmVmKCgpID0+IEJhc2ljTm9ybWFsU3RhdGVDb21wb25lbnQpXHJcbiAgICAgICAgfSxcclxuICAgICAgICB0ZXh0c0xvY2F0b3I6IDxQbHVnaW5EZXNjcmlwdGlvbjxOb1RleHRzTG9jYXRvckNvbXBvbmVudD4+XHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0eXBlOiBmb3J3YXJkUmVmKCgpID0+IE5vVGV4dHNMb2NhdG9yQ29tcG9uZW50KVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgbGl2ZVNlYXJjaDogPFBsdWdpbkRlc2NyaXB0aW9uPE5vTGl2ZVNlYXJjaENvbXBvbmVudD4+XHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0eXBlOiBmb3J3YXJkUmVmKCgpID0+IE5vTGl2ZVNlYXJjaENvbXBvbmVudClcclxuICAgICAgICB9LFxyXG4gICAgICAgIHBvcHVwOiA8UGx1Z2luRGVzY3JpcHRpb248QmFzaWNQb3B1cENvbXBvbmVudD4+XHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0eXBlOiBmb3J3YXJkUmVmKCgpID0+IEJhc2ljUG9wdXBDb21wb25lbnQpXHJcbiAgICAgICAgfSxcclxuICAgICAgICBwb3NpdGlvbmVyOiA8UGx1Z2luRGVzY3JpcHRpb248QmFzaWNQb3NpdGlvbmVyQ29tcG9uZW50Pj5cclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHR5cGU6IGZvcndhcmRSZWYoKCkgPT4gQmFzaWNQb3NpdGlvbmVyQ29tcG9uZW50KVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAga2V5Ym9hcmRIYW5kbGVyOiA8UGx1Z2luRGVzY3JpcHRpb248QmFzaWNLZXlib2FyZEhhbmRsZXJDb21wb25lbnQ+PlxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdHlwZTogZm9yd2FyZFJlZigoKSA9PiBCYXNpY0tleWJvYXJkSGFuZGxlckNvbXBvbmVudClcclxuICAgICAgICB9LFxyXG4gICAgICAgIHJlYWRvbmx5U3RhdGU6IDxQbHVnaW5EZXNjcmlwdGlvbjxSZWFkb25seVN0YXRlPj5cclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHR5cGU6IGZvcndhcmRSZWYoKCkgPT4gQmFzaWNOb3JtYWxTdGF0ZUNvbXBvbmVudClcclxuICAgICAgICB9LFxyXG4gICAgICAgIHZhbHVlSGFuZGxlcjogPFBsdWdpbkRlc2NyaXB0aW9uPEJhc2ljVmFsdWVIYW5kbGVyQ29tcG9uZW50PGFueT4+PlxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdHlwZTogZm9yd2FyZFJlZigoKSA9PiBCYXNpY1ZhbHVlSGFuZGxlckNvbXBvbmVudClcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn07XHJcblxyXG4vKipcclxuICogTmdTZWxlY3QgcGx1Z2luIGluc3RhbmNlcyBmYWN0b3J5IG1ldGhvZFxyXG4gKiBAaW50ZXJuYWxcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBuZ1NlbGVjdFBsdWdpbkluc3RhbmNlc0ZhY3RvcnkoKVxyXG57XHJcbiAgICByZXR1cm4ge307XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBDb21wb25lbnQgdGhhdCByZXByZXNlbnRzIE5nU2VsZWN0IGl0c2VsZiwgYWxsb3dzIHNlbGVjdGlvbiBvZiB2YWx1ZSBmcm9tIG9wdGlvbnNcclxuICovXHJcbkBDb21wb25lbnQoXHJcbntcclxuICAgIHNlbGVjdG9yOiAnbmctc2VsZWN0JyxcclxuICAgIHRlbXBsYXRlVXJsOiAnc2VsZWN0LmNvbXBvbmVudC5odG1sJyxcclxuICAgIGNoYW5nZURldGVjdGlvbjogQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kuT25QdXNoLFxyXG4gICAgcHJvdmlkZXJzOlxyXG4gICAgW1xyXG4gICAgICAgIDxGYWN0b3J5UHJvdmlkZXI+XHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBwcm92aWRlOiBOR19TRUxFQ1RfUExVR0lOX0lOU1RBTkNFUyxcclxuICAgICAgICAgICAgdXNlRmFjdG9yeTogbmdTZWxlY3RQbHVnaW5JbnN0YW5jZXNGYWN0b3J5XHJcbiAgICAgICAgfVxyXG4gICAgXSxcclxuICAgIHN0eWxlczpcclxuICAgIFtcclxuICAgICAgICBgOmhvc3RcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGRpc3BsYXk6IGJsb2NrO1xyXG4gICAgICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbiAgICAgICAgfWBcclxuICAgIF1cclxufSlcclxuZXhwb3J0IGNsYXNzIE5nU2VsZWN0Q29tcG9uZW50PFRWYWx1ZT4gaW1wbGVtZW50cyBOZ1NlbGVjdDxUVmFsdWU+LCBPbkNoYW5nZXMsIE9uSW5pdCwgQWZ0ZXJWaWV3SW5pdCwgT25EZXN0cm95LCBPcHRpb25zR2F0aGVyZXI8VFZhbHVlPiwgVGVtcGxhdGVHYXRoZXJlclxyXG57XHJcbiAgICAvLyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMgcHJvdGVjdGVkIGZpZWxkcyAjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBOZ1NlbGVjdCBvcHRpb25zXHJcbiAgICAgKi9cclxuICAgIHByb3RlY3RlZCBfc2VsZWN0T3B0aW9uczogTmdTZWxlY3RPcHRpb25zPFRWYWx1ZT47XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTdWJqZWN0IHVzZWQgZm9yIGluZGljYXRpb24gdGhhdCBOZ1NlbGVjdCB3YXMgaW5pdGlhbGl6ZWRcclxuICAgICAqL1xyXG4gICAgcHJvdGVjdGVkIF9pbml0aWFsaXplZFN1YmplY3Q6IEJlaGF2aW9yU3ViamVjdDxib29sZWFuPiA9IG5ldyBCZWhhdmlvclN1YmplY3Q8Ym9vbGVhbj4oZmFsc2UpO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogT2NjdXJzIHdoZW4gYXJyYXkgb2YgcHJvdmlkZWQgb3B0aW9ucyBoYXMgY2hhbmdlZFxyXG4gICAgICovXHJcbiAgICBwcm90ZWN0ZWQgX29wdGlvbnNDaGFuZ2U6IEV2ZW50RW1pdHRlcjx2b2lkPiA9IG5ldyBFdmVudEVtaXR0ZXI8dm9pZD4oKTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIE9jY3VycyB3aGVuIGFycmF5IG9mIHZpc2libGUsIGRpc3BsYXllZCBvcHRpb25zIGhhcyBjaGFuZ2VkXHJcbiAgICAgKi9cclxuICAgIHByb3RlY3RlZCBfYXZhaWxhYmxlT3B0aW9uc0NoYW5nZTogRXZlbnRFbWl0dGVyPHZvaWQ+ID0gbmV3IEV2ZW50RW1pdHRlcjx2b2lkPigpO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQXJyYXkgb2YgYXZhaWxhYmxlIG9wdGlvbnMgdG8gYmUgZGlzcGxheWVkXHJcbiAgICAgKi9cclxuICAgIHByb3RlY3RlZCBfYXZhaWxhYmxlT3B0aW9uczogTmdTZWxlY3RPcHRpb248VFZhbHVlPltdID0gW107XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBMaXZlIHNlYXJjaCBwbHVnaW4gY3VycmVudGx5IHVzZWQgaW4gTmdTZWxlY3RcclxuICAgICAqL1xyXG4gICAgcHJvdGVjdGVkIF9saXZlU2VhcmNoOiBMaXZlU2VhcmNoO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogU3Vic2NyaXB0aW9uIGZvciBjaGFuZ2VzIG9mIGxpdmUgc2VhcmNoIHZhbHVlXHJcbiAgICAgKi9cclxuICAgIHByb3RlY3RlZCBfc2VhcmNoVmFsdWVDaGFuZ2VTdWJzY3JpcHRpb246IFN1YnNjcmlwdGlvbjtcclxuXHJcbiAgICAvLyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMgcHVibGljIHByb3BlcnRpZXMgLSBpbnB1dHMgIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjI1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2V0cyBvciBzZXRzIE5nU2VsZWN0IG9wdGlvbnNcclxuICAgICAqL1xyXG4gICAgQElucHV0KClcclxuICAgIHB1YmxpYyBzZXQgc2VsZWN0T3B0aW9ucyhvcHRpb25zOiBOZ1NlbGVjdE9wdGlvbnM8VFZhbHVlPilcclxuICAgIHtcclxuICAgICAgICB0aGlzLl9zZWxlY3RPcHRpb25zID0gZXh0ZW5kKHRydWUsIHRoaXMuX3NlbGVjdE9wdGlvbnMsIG9wdGlvbnMpO1xyXG4gICAgfVxyXG4gICAgcHVibGljIGdldCBzZWxlY3RPcHRpb25zKCk6IE5nU2VsZWN0T3B0aW9uczxUVmFsdWU+XHJcbiAgICB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NlbGVjdE9wdGlvbnM7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBJbmRpY2F0aW9uIHdoZXRoZXIgc2hvdWxkIGJlIE5nU2VsZWN0IGRpc2FibGVkIG9yIG5vdFxyXG4gICAgICovXHJcbiAgICBASW5wdXQoKVxyXG4gICAgcHVibGljIGRpc2FibGVkOiBib29sZWFuO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogSW5kaWNhdGlvbiB3aGV0aGVyIHNob3VsZCBiZSBOZ1NlbGVjdCByZWFkb25seSBvciBub3RcclxuICAgICAqL1xyXG4gICAgQElucHV0KClcclxuICAgIHB1YmxpYyByZWFkb25seTogYm9vbGVhbjtcclxuXHJcbiAgICAvLyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMgcHVibGljIHByb3BlcnRpZXMgLSBpbXBsZW1lbnRhdGlvbiBvZiBOZ1NlbGVjdCAjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBPY2N1cnMgZXZlcnkgdGltZSB3aGVuIE5nU2VsZWN0IGlzIGluaXRpYWxpemVkIG9yIHJlaW5pdGlhbGl6ZWQsIGlmIHZhbHVlIGlzIGZhbHNlIE5nU2VsZWN0IHdhcyBub3QgaW5pdGlhbGl6ZWQgeWV0XHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBnZXQgaW5pdGlhbGl6ZWQoKTogT2JzZXJ2YWJsZTxib29sZWFuPlxyXG4gICAge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9pbml0aWFsaXplZFN1YmplY3QuYXNPYnNlcnZhYmxlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXRzIGN1cnJlbnQgc3RhdGUgb2YgaW5pdGlhbGl6YXRpb25cclxuICAgICAqL1xyXG4gICAgcHVibGljIGlzSW5pdGlhbGl6ZWQ6IGJvb2xlYW4gPSBmYWxzZTtcclxuXHJcbiAgICAvLyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMgcHVibGljIHByb3BlcnRpZXMgLSBpbXBsZW1lbnRhdGlvbiBvZiBUZW1wbGF0ZUdhdGhlcmVyICMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyNcclxuXHJcbiAgICAvKipcclxuICAgICAqIFRlbXBsYXRlIHVzZWQgd2l0aGluIG5vcm1hbCBzdGF0ZVxyXG4gICAgICogQGludGVybmFsXHJcbiAgICAgKi9cclxuICAgIEBDb250ZW50Q2hpbGQoJ25vcm1hbFN0YXRlVGVtcGxhdGUnKVxyXG4gICAgcHVibGljIG5vcm1hbFN0YXRlVGVtcGxhdGU6IFRlbXBsYXRlUmVmPE5vcm1hbFN0YXRlQ29udGV4dD47XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUZW1wbGF0ZSB0aGF0IGlzIHVzZWQgd2l0aGluIFBvcHVwIGFzIG9wdGlvblxyXG4gICAgICogQGludGVybmFsXHJcbiAgICAgKi9cclxuICAgIEBDb250ZW50Q2hpbGQoJ29wdGlvblRlbXBsYXRlJylcclxuICAgIHB1YmxpYyBvcHRpb25UZW1wbGF0ZT86IFRlbXBsYXRlUmVmPFBvcHVwQ29udGV4dD47XHJcblxyXG4gICAgLy8jIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIHB1YmxpYyBwcm9wZXJ0aWVzIC0gaW1wbGVtZW50YXRpb24gb2YgT3B0aW9uc0dhdGhlcmVyICMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyNcclxuXHJcbiAgICAvKipcclxuICAgICAqIEFycmF5IG9mIHByb3ZpZGVkIG9wdGlvbnMgZm9yIHNlbGVjdFxyXG4gICAgICogQGludGVybmFsXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBnZXQgb3B0aW9ucygpOiBOZ1NlbGVjdE9wdGlvbjxUVmFsdWU+W11cclxuICAgIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5vcHRpb25zQ2hpbGRyZW4udG9BcnJheSgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogT2NjdXJzIHdoZW4gYXJyYXkgb2YgcHJvdmlkZWQgb3B0aW9ucyBoYXMgY2hhbmdlZFxyXG4gICAgICogQGludGVybmFsXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBnZXQgb3B0aW9uc0NoYW5nZSgpOiBFdmVudEVtaXR0ZXI8dm9pZD5cclxuICAgIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fb3B0aW9uc0NoYW5nZTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEFycmF5IG9mIHZpc2libGUsIGRpc3BsYXllZCBvcHRpb25zIGZvciBzZWxlY3RcclxuICAgICAqIEBpbnRlcm5hbFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZ2V0IGF2YWlsYWJsZU9wdGlvbnMoKTogTmdTZWxlY3RPcHRpb248VFZhbHVlPltdXHJcbiAgICB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2F2YWlsYWJsZU9wdGlvbnM7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBPY2N1cnMgd2hlbiBhcnJheSBvZiB2aXNpYmxlLCBkaXNwbGF5ZWQgb3B0aW9ucyBoYXMgY2hhbmdlZFxyXG4gICAgICogQGludGVybmFsXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBnZXQgYXZhaWxhYmxlT3B0aW9uc0NoYW5nZSgpOiBFdmVudEVtaXR0ZXI8dm9pZD5cclxuICAgIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fYXZhaWxhYmxlT3B0aW9uc0NoYW5nZTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIE5nU2VsZWN0IHBsdWdpbiBpbnN0YW5jZXMgYXZhaWxhYmxlIGZvciBnYXRoZXJlclxyXG4gICAgICogQGludGVybmFsXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBuZ1NlbGVjdFBsdWdpbnM6IE5nU2VsZWN0UGx1Z2luSW5zdGFuY2VzO1xyXG5cclxuICAgIC8vIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyBwdWJsaWMgcHJvcGVydGllcyAtIHRlbXBsYXRlIGJpbmRpbmdzICMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyNcclxuXHJcbiAgICAvKipcclxuICAgICAqIEVsZW1lbnQgdXNlZCBmb3IgbGl2ZSBzZWFyY2hcclxuICAgICAqIEBpbnRlcm5hbFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgbGl2ZVNlYXJjaEVsZW1lbnQ6IEhUTUxFbGVtZW50W11bXTtcclxuXHJcbiAgICAvLyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMgcHVibGljIHByb3BlcnRpZXMgLSBjaGlsZHJlbiAjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBPcHRpb25zIGNoaWxkcmVuIGZvdW5kIGluc2lkZSBuZy1zZWxlY3RcclxuICAgICAqIEBpbnRlcm5hbFxyXG4gICAgICovXHJcbiAgICBAQ29udGVudENoaWxkcmVuKE9wdGlvbkNvbXBvbmVudClcclxuICAgIHB1YmxpYyBvcHRpb25zQ2hpbGRyZW46IFF1ZXJ5TGlzdDxOZ1NlbGVjdE9wdGlvbjxhbnk+PjtcclxuXHJcbiAgICAvLyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMgcHVibGljIHByb3BlcnRpZXMgLSBjaGlsZHJlbiAjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBPcHRpb25zIGdyb3VwcyBjaGlsZHJlbiBmb3VuZCBpbnNpZGUgbmctc2VsZWN0XHJcbiAgICAgKiBAaW50ZXJuYWxcclxuICAgICAqL1xyXG4gICAgQENvbnRlbnRDaGlsZHJlbihPcHRHcm91cENvbXBvbmVudClcclxuICAgIHB1YmxpYyBvcHRHcm91cHNDaGlsZHJlbjogUXVlcnlMaXN0PE5nU2VsZWN0T3B0R3JvdXA8YW55Pj47XHJcblxyXG4gICAgLy8jIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIGNvbnN0cnVjdG9ycyAjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjXHJcbiAgICBjb25zdHJ1Y3Rvcihwcm90ZWN0ZWQgX2NoYW5nZURldGVjdG9yOiBDaGFuZ2VEZXRlY3RvclJlZixcclxuICAgICAgICAgICAgICAgIHByb3RlY3RlZCBfZWxlbWVudDogRWxlbWVudFJlZjxIVE1MRWxlbWVudD4sXHJcbiAgICAgICAgICAgICAgICBASW5qZWN0KE5HX1NFTEVDVF9QTFVHSU5fSU5TVEFOQ0VTKSBwcm90ZWN0ZWQgX3BsdWdpbkluc3RhbmNlczogTmdTZWxlY3RQbHVnaW5JbnN0YW5jZXMsXHJcbiAgICAgICAgICAgICAgICBASW5qZWN0KE5HX1NFTEVDVF9PUFRJT05TKSBAT3B0aW9uYWwoKSBvcHRpb25zPzogTmdTZWxlY3RPcHRpb25zPFRWYWx1ZT4sXHJcbiAgICAgICAgICAgICAgICBASW5qZWN0KE5PUk1BTF9TVEFURV9UWVBFKSBAT3B0aW9uYWwoKSBub3JtYWxTdGF0ZVR5cGU/OiBUeXBlPE5vcm1hbFN0YXRlPixcclxuICAgICAgICAgICAgICAgIEBJbmplY3QoS0VZQk9BUkRfSEFORExFUl9UWVBFKSBAT3B0aW9uYWwoKSBrZXlib2FyZEhhbmRsZXJUeXBlPzogVHlwZTxLZXlib2FyZEhhbmRsZXI+LFxyXG4gICAgICAgICAgICAgICAgQEluamVjdChQT1BVUF9UWVBFKSBAT3B0aW9uYWwoKSBwb3B1cFR5cGU/OiBUeXBlPFBvcHVwPixcclxuICAgICAgICAgICAgICAgIEBJbmplY3QoUE9TSVRJT05FUl9UWVBFKSBAT3B0aW9uYWwoKSBwb3NpdGlvbmVyVHlwZT86IFR5cGU8UG9zaXRpb25lcj4sXHJcbiAgICAgICAgICAgICAgICBASW5qZWN0KFJFQURPTkxZX1NUQVRFX1RZUEUpIEBPcHRpb25hbCgpIHJlYWRvbmx5U3RhdGVUeXBlPzogVHlwZTxSZWFkb25seVN0YXRlPixcclxuICAgICAgICAgICAgICAgIEBJbmplY3QoVkFMVUVfSEFORExFUl9UWVBFKSBAT3B0aW9uYWwoKSB2YWx1ZUhhbmRsZXJUeXBlPzogVHlwZTxWYWx1ZUhhbmRsZXI8YW55Pj4sXHJcbiAgICAgICAgICAgICAgICBASW5qZWN0KExJVkVfU0VBUkNIX1RZUEUpIEBPcHRpb25hbCgpIGxpdmVTZWFyY2hUeXBlPzogVHlwZTxMaXZlU2VhcmNoPixcclxuICAgICAgICAgICAgICAgIEBJbmplY3QoVEVYVFNfTE9DQVRPUikgQE9wdGlvbmFsKCkgdGV4dHNMb2NhdG9yVHlwZT86IFR5cGU8VGV4dHNMb2NhdG9yPixcclxuICAgICAgICAgICAgICAgIEBBdHRyaWJ1dGUoJ3JlYWRvbmx5JykgcmVhZG9ubHk/OiBzdHJpbmcsXHJcbiAgICAgICAgICAgICAgICBAQXR0cmlidXRlKCdkaXNhYmxlZCcpIGRpc2FibGVkPzogc3RyaW5nLFxyXG4gICAgICAgICAgICAgICAgQEF0dHJpYnV0ZSgnbXVsdGlwbGUnKSBtdWx0aXBsZT86IHN0cmluZylcclxuICAgIHtcclxuICAgICAgICAvL2F0IGxlYXN0IG9uIG9mIGZvbGxvd2luZyBpcyBwcmVzZW50ICh2YWx1ZSBpcyBub3QgaW1wb3J0YW50KVxyXG4gICAgICAgIGxldCByZWFkb25seURlZmF1bHQgPSBpc1ByZXNlbnQocmVhZG9ubHkpIHx8IGlzUHJlc2VudChkaXNhYmxlZCk7XHJcbiAgICAgICAgbGV0IG11bHRpcGxlRGVmYXVsdCA9IGlzUHJlc2VudChtdWx0aXBsZSk7XHJcbiAgICAgICAgbGV0IG9wdHM6IE5nU2VsZWN0T3B0aW9uczxUVmFsdWU+ID0gZXh0ZW5kKHRydWUsIHt9LCBvcHRpb25zKTtcclxuXHJcbiAgICAgICAgaWYoIW9wdHMucGx1Z2lucylcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIG9wdHMucGx1Z2lucyA9IHt9O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYoa2V5Ym9hcmRIYW5kbGVyVHlwZSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGlmKCFvcHRzLnBsdWdpbnMua2V5Ym9hcmRIYW5kbGVyKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBvcHRzLnBsdWdpbnMua2V5Ym9hcmRIYW5kbGVyID0ge307XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIG9wdHMucGx1Z2lucy5rZXlib2FyZEhhbmRsZXIudHlwZSA9IGtleWJvYXJkSGFuZGxlclR5cGU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZihub3JtYWxTdGF0ZVR5cGUpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBpZighb3B0cy5wbHVnaW5zLm5vcm1hbFN0YXRlKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBvcHRzLnBsdWdpbnMubm9ybWFsU3RhdGUgPSB7fTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgb3B0cy5wbHVnaW5zLm5vcm1hbFN0YXRlLnR5cGUgPSBub3JtYWxTdGF0ZVR5cGU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZihwb3B1cFR5cGUpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBpZighb3B0cy5wbHVnaW5zLnBvcHVwKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBvcHRzLnBsdWdpbnMucG9wdXAgPSB7fTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgb3B0cy5wbHVnaW5zLnBvcHVwLnR5cGUgPSBwb3B1cFR5cGU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZihwb3NpdGlvbmVyVHlwZSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGlmKCFvcHRzLnBsdWdpbnMucG9zaXRpb25lcilcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgb3B0cy5wbHVnaW5zLnBvc2l0aW9uZXIgPSB7fTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgb3B0cy5wbHVnaW5zLnBvc2l0aW9uZXIudHlwZSA9IHBvc2l0aW9uZXJUeXBlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYocmVhZG9ubHlTdGF0ZVR5cGUpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBpZighb3B0cy5wbHVnaW5zLnJlYWRvbmx5U3RhdGUpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIG9wdHMucGx1Z2lucy5yZWFkb25seVN0YXRlID0ge307XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIG9wdHMucGx1Z2lucy5yZWFkb25seVN0YXRlLnR5cGUgPSByZWFkb25seVN0YXRlVHlwZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmKHZhbHVlSGFuZGxlclR5cGUpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBpZighb3B0cy5wbHVnaW5zLnZhbHVlSGFuZGxlcilcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgb3B0cy5wbHVnaW5zLnZhbHVlSGFuZGxlciA9IHt9O1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBvcHRzLnBsdWdpbnMudmFsdWVIYW5kbGVyLnR5cGUgPSB2YWx1ZUhhbmRsZXJUeXBlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYobGl2ZVNlYXJjaFR5cGUpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBpZighb3B0cy5wbHVnaW5zLmxpdmVTZWFyY2gpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIG9wdHMucGx1Z2lucy5saXZlU2VhcmNoID0ge307XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIG9wdHMucGx1Z2lucy5saXZlU2VhcmNoLnR5cGUgPSBsaXZlU2VhcmNoVHlwZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmKHRleHRzTG9jYXRvclR5cGUpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBpZighb3B0cy5wbHVnaW5zLnRleHRzTG9jYXRvcilcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgb3B0cy5wbHVnaW5zLnRleHRzTG9jYXRvciA9IHt9O1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBvcHRzLnBsdWdpbnMudGV4dHNMb2NhdG9yLnR5cGUgPSB0ZXh0c0xvY2F0b3JUeXBlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5fc2VsZWN0T3B0aW9ucyA9IGV4dGVuZCh0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPE5nU2VsZWN0T3B0aW9uczxUVmFsdWU+PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnNHYXRoZXJlcjogdGhpcyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZUdhdGhlcmVyOiB0aGlzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlYWRvbmx5OiByZWFkb25seURlZmF1bHQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGx1Z2luczpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvcHVwOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zOiA8UG9wdXBPcHRpb25zPGFueT4+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbXVsdGlwbGU6IG11bHRpcGxlRGVmYXVsdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZUhhbmRsZXI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnM6IDxWYWx1ZUhhbmRsZXJPcHRpb25zPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG11bHRpcGxlOiBtdWx0aXBsZURlZmF1bHRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0T3B0aW9ucyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdHMpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyBwdWJsaWMgbWV0aG9kcyAtIGltcGxlbWVudGF0aW9uIG9mIE9uQ2hhbmdlcyAjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDYWxsZWQgd2hlbiBpbnB1dCB2YWx1ZSBjaGFuZ2VzXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBuZ09uQ2hhbmdlcyhjaGFuZ2VzOiBTaW1wbGVDaGFuZ2VzKTogdm9pZFxyXG4gICAge1xyXG4gICAgICAgIGxldCB1cGRhdGVSZWFkb25seSA9IChzdGF0ZTogYm9vbGVhbiwgZmlyc3RDaGFuZ2U6IGJvb2xlYW4pID0+XHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICAvL3VwZGF0ZSBvcHRpb25zXHJcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0T3B0aW9ucy5yZWFkb25seSA9IHN0YXRlO1xyXG5cclxuICAgICAgICAgICAgaWYoIWZpcnN0Q2hhbmdlKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmluaXRPcHRpb25zKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmluaXRpYWxpemUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGlmKG5hbWVvZjxOZ1NlbGVjdENvbXBvbmVudDxUVmFsdWU+PignZGlzYWJsZWQnKSBpbiBjaGFuZ2VzICYmIGlzQm9vbGVhbih0aGlzLmRpc2FibGVkKSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHVwZGF0ZVJlYWRvbmx5KHRoaXMuZGlzYWJsZWQsIGNoYW5nZXNbbmFtZW9mPE5nU2VsZWN0Q29tcG9uZW50PFRWYWx1ZT4+KCdkaXNhYmxlZCcpXS5maXJzdENoYW5nZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZihuYW1lb2Y8TmdTZWxlY3RDb21wb25lbnQ8VFZhbHVlPj4oJ3JlYWRvbmx5JykgaW4gY2hhbmdlcyAmJiBpc0Jvb2xlYW4odGhpcy5yZWFkb25seSkpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB1cGRhdGVSZWFkb25seSh0aGlzLnJlYWRvbmx5LCBjaGFuZ2VzW25hbWVvZjxOZ1NlbGVjdENvbXBvbmVudDxUVmFsdWU+PigncmVhZG9ubHknKV0uZmlyc3RDaGFuZ2UpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMgcHVibGljIG1ldGhvZHMgLSBpbXBsZW1lbnRhdGlvbiBvZiBPbkluaXQgIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjI1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogSW5pdGlhbGl6ZSBjb21wb25lbnRcclxuICAgICAqL1xyXG4gICAgcHVibGljIG5nT25Jbml0KClcclxuICAgIHtcclxuICAgICAgICB0aGlzLmluaXRPcHRpb25zKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8jIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIHB1YmxpYyBtZXRob2RzIC0gaW1wbGVtZW50YXRpb24gb2YgQWZ0ZXJWaWV3SW5pdCAjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDYWxsZWQgd2hlbiB2aWV3IHdhcyBpbml0aWFsaXplZFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgbmdBZnRlclZpZXdJbml0KClcclxuICAgIHtcclxuICAgICAgICB0aGlzLl9hdmFpbGFibGVPcHRpb25zID0gdGhpcy5vcHRpb25zO1xyXG5cclxuICAgICAgICB0aGlzLm9wdGlvbnNDaGlsZHJlbi5jaGFuZ2VzLnN1YnNjcmliZSgoKSA9PlxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5fYXZhaWxhYmxlT3B0aW9ucyA9IHRoaXMub3B0aW9ucztcclxuICAgICAgICAgICAgdGhpcy5fb3B0aW9uc0NoYW5nZS5lbWl0KCk7XHJcbiAgICAgICAgICAgIHRoaXMuX2F2YWlsYWJsZU9wdGlvbnNDaGFuZ2UuZW1pdCgpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBpZih0aGlzLl9zZWxlY3RPcHRpb25zLmF1dG9Jbml0aWFsaXplKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5pbml0aWFsaXplKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyBwdWJsaWMgbWV0aG9kcyAtIGltcGxlbWVudGF0aW9uIG9mIE9uRGVzdHJveSAjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDYWxsZWQgd2hlbiBjb21wb25lbnQgaXMgZGVzdHJveWVkXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBuZ09uRGVzdHJveSgpXHJcbiAgICB7XHJcbiAgICAgICAgaWYodGhpcy5fc2VhcmNoVmFsdWVDaGFuZ2VTdWJzY3JpcHRpb24pXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLl9zZWFyY2hWYWx1ZUNoYW5nZVN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xyXG4gICAgICAgICAgICB0aGlzLl9zZWFyY2hWYWx1ZUNoYW5nZVN1YnNjcmlwdGlvbiA9IG51bGw7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZih0aGlzLnNlbGVjdE9wdGlvbnMub3B0aW9uc0dhdGhlcmVyKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5zZWxlY3RPcHRpb25zLm9wdGlvbnNHYXRoZXJlci5kZXN0cm95R2F0aGVyZXIoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8jIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIHB1YmxpYyBtZXRob2RzIC0gaW1wbGVtZW50YXRpb24gb2YgT3B0aW9uc0dhdGhlcmVyICMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyNcclxuXHJcbiAgICAvKipcclxuICAgICAqIEluaXRpYWxpemUgZ2F0aGVyZXIgZHVyaW5nIGluaXRpYWxpemF0aW9uIHBoYXNlXHJcbiAgICAgKiBAaW50ZXJuYWxcclxuICAgICAqL1xyXG4gICAgcHVibGljIGluaXRpYWxpemVHYXRoZXJlcigpOiB2b2lkXHJcbiAgICB7XHJcbiAgICAgICAgbGV0IGxpdmVTZWFyY2ggPSB0aGlzLl9wbHVnaW5JbnN0YW5jZXNbTElWRV9TRUFSQ0hdIGFzIExpdmVTZWFyY2g7XHJcblxyXG4gICAgICAgIGlmKHRoaXMuX2xpdmVTZWFyY2ggJiYgdGhpcy5fbGl2ZVNlYXJjaCAhPSBsaXZlU2VhcmNoKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5fc2VhcmNoVmFsdWVDaGFuZ2VTdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcclxuICAgICAgICAgICAgdGhpcy5fc2VhcmNoVmFsdWVDaGFuZ2VTdWJzY3JpcHRpb24gPSBudWxsO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5fbGl2ZVNlYXJjaCA9IG51bGw7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZighdGhpcy5fbGl2ZVNlYXJjaClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMuX2xpdmVTZWFyY2ggPSBsaXZlU2VhcmNoO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5fc2VhcmNoVmFsdWVDaGFuZ2VTdWJzY3JpcHRpb24gPSB0aGlzLl9saXZlU2VhcmNoLnNlYXJjaFZhbHVlQ2hhbmdlLnN1YnNjcmliZSgoKSA9PlxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBpZighdGhpcy5fbGl2ZVNlYXJjaC5zZWFyY2hWYWx1ZSlcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9hdmFpbGFibGVPcHRpb25zID0gdGhpcy5vcHRpb25zO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2F2YWlsYWJsZU9wdGlvbnNDaGFuZ2UuZW1pdCgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5fYXZhaWxhYmxlT3B0aW9ucyA9IHRoaXMub3B0aW9ucy5maWx0ZXIodGhpcy5zZWxlY3RPcHRpb25zLmxpdmVTZWFyY2hGaWx0ZXIodGhpcy5fbGl2ZVNlYXJjaC5zZWFyY2hWYWx1ZSkpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fYXZhaWxhYmxlT3B0aW9uc0NoYW5nZS5lbWl0KCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIENhbGxlZCB3aGVuIGdhdGhlcmVyIG5lZWRzIHRvIGJlIGRlc3Ryb3llZFxyXG4gICAgICogQGludGVybmFsXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBkZXN0cm95R2F0aGVyZXIoKTogdm9pZFxyXG4gICAge1xyXG4gICAgfVxyXG5cclxuICAgIC8vIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyBwdWJsaWMgbWV0aG9kcyAtIHRlbXBsYXRlIGJpbmRpbmdzICMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyNcclxuXHJcbiAgICAvKipcclxuICAgICAqIFNldHMgbm9ybWFsIHN0YXRlIGNvbXBvbmVudFxyXG4gICAgICogQHBhcmFtIG5vcm1hbFN0YXRlIENyZWF0ZWQgbm9ybWFsIHN0YXRlIHRoYXQgaXMgcmVuZGVyZWRcclxuICAgICAqIEBpbnRlcm5hbFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc2V0Tm9ybWFsU3RhdGVDb21wb25lbnQobm9ybWFsU3RhdGU6IE5vcm1hbFN0YXRlKVxyXG4gICAge1xyXG4gICAgICAgIGlmKCFub3JtYWxTdGF0ZSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuX3BsdWdpbkluc3RhbmNlc1tOT1JNQUxfU1RBVEVdID0gbm9ybWFsU3RhdGU7XHJcblxyXG4gICAgICAgIGlmKHRoaXMuX3NlbGVjdE9wdGlvbnMucGx1Z2lucyAmJiB0aGlzLl9zZWxlY3RPcHRpb25zLnBsdWdpbnMubm9ybWFsU3RhdGUgJiYgdGhpcy5fc2VsZWN0T3B0aW9ucy5wbHVnaW5zLm5vcm1hbFN0YXRlLm9wdGlvbnMpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBub3JtYWxTdGF0ZS5vcHRpb25zID0gdGhpcy5fc2VsZWN0T3B0aW9ucy5wbHVnaW5zLm5vcm1hbFN0YXRlLm9wdGlvbnM7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBub3JtYWxTdGF0ZS50ZW1wbGF0ZUdhdGhlcmVyID0gdGhpcy5zZWxlY3RPcHRpb25zLnRlbXBsYXRlR2F0aGVyZXI7XHJcbiAgICAgICAgbm9ybWFsU3RhdGUuaW5pdE9wdGlvbnMoKTtcclxuXHJcbiAgICAgICAgaWYodGhpcy5fc2VsZWN0T3B0aW9ucy5wbHVnaW5zICYmIHRoaXMuX3NlbGVjdE9wdGlvbnMucGx1Z2lucy5ub3JtYWxTdGF0ZSAmJiB0aGlzLl9zZWxlY3RPcHRpb25zLnBsdWdpbnMubm9ybWFsU3RhdGUuaW5zdGFuY2VDYWxsYmFjaylcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMuX3NlbGVjdE9wdGlvbnMucGx1Z2lucy5ub3JtYWxTdGF0ZS5pbnN0YW5jZUNhbGxiYWNrKG5vcm1hbFN0YXRlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXRzIGtleWJvYXJkIGhhbmRsZXIgY29tcG9uZW50XHJcbiAgICAgKiBAcGFyYW0ga2V5Ym9hcmRIYW5kbGVyIENyZWF0ZWQga2V5Ym9hcmQgaGFuZGxlciB0aGF0IGlzIHJlbmRlcmVkXHJcbiAgICAgKiBAaW50ZXJuYWxcclxuICAgICAqL1xyXG4gICAgcHVibGljIHNldEtleWJvYXJkSGFuZGxlckNvbXBvbmVudChrZXlib2FyZEhhbmRsZXI6IEtleWJvYXJkSGFuZGxlcilcclxuICAgIHtcclxuICAgICAgICBpZigha2V5Ym9hcmRIYW5kbGVyKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5fcGx1Z2luSW5zdGFuY2VzW0tFWUJPQVJEX0hBTkRMRVJdID0ga2V5Ym9hcmRIYW5kbGVyO1xyXG5cclxuICAgICAgICBpZih0aGlzLl9zZWxlY3RPcHRpb25zLnBsdWdpbnMgJiYgdGhpcy5fc2VsZWN0T3B0aW9ucy5wbHVnaW5zLmtleWJvYXJkSGFuZGxlciAmJiB0aGlzLl9zZWxlY3RPcHRpb25zLnBsdWdpbnMua2V5Ym9hcmRIYW5kbGVyLm9wdGlvbnMpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBrZXlib2FyZEhhbmRsZXIub3B0aW9ucyA9IHRoaXMuX3NlbGVjdE9wdGlvbnMucGx1Z2lucy5rZXlib2FyZEhhbmRsZXIub3B0aW9ucztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGtleWJvYXJkSGFuZGxlci5zZWxlY3RFbGVtZW50ID0gdGhpcy5fZWxlbWVudC5uYXRpdmVFbGVtZW50O1xyXG4gICAgICAgIGtleWJvYXJkSGFuZGxlci5vcHRpb25zR2F0aGVyZXIgPSB0aGlzLnNlbGVjdE9wdGlvbnMub3B0aW9uc0dhdGhlcmVyO1xyXG4gICAgICAgIGtleWJvYXJkSGFuZGxlci5pbml0T3B0aW9ucygpO1xyXG5cclxuICAgICAgICBpZih0aGlzLl9zZWxlY3RPcHRpb25zLnBsdWdpbnMgJiYgdGhpcy5fc2VsZWN0T3B0aW9ucy5wbHVnaW5zLmtleWJvYXJkSGFuZGxlciAmJiB0aGlzLl9zZWxlY3RPcHRpb25zLnBsdWdpbnMua2V5Ym9hcmRIYW5kbGVyLmluc3RhbmNlQ2FsbGJhY2spXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLl9zZWxlY3RPcHRpb25zLnBsdWdpbnMua2V5Ym9hcmRIYW5kbGVyLmluc3RhbmNlQ2FsbGJhY2soa2V5Ym9hcmRIYW5kbGVyKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXRzIHBvcHVwIGNvbXBvbmVudFxyXG4gICAgICogQHBhcmFtIHBvcHVwIENyZWF0ZWQgcG9wdXAgdGhhdCBpcyByZW5kZXJlZFxyXG4gICAgICogQGludGVybmFsXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzZXRQb3B1cENvbXBvbmVudChwb3B1cDogUG9wdXApXHJcbiAgICB7XHJcbiAgICAgICAgaWYoIXBvcHVwKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5fcGx1Z2luSW5zdGFuY2VzW1BPUFVQXSA9IHBvcHVwO1xyXG5cclxuICAgICAgICBpZih0aGlzLl9zZWxlY3RPcHRpb25zLnBsdWdpbnMgJiYgdGhpcy5fc2VsZWN0T3B0aW9ucy5wbHVnaW5zLnBvcHVwICYmIHRoaXMuX3NlbGVjdE9wdGlvbnMucGx1Z2lucy5wb3B1cC5vcHRpb25zKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgcG9wdXAub3B0aW9ucyA9IHRoaXMuX3NlbGVjdE9wdGlvbnMucGx1Z2lucy5wb3B1cC5vcHRpb25zO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcG9wdXAuc2VsZWN0RWxlbWVudCA9IHRoaXMuX2VsZW1lbnQubmF0aXZlRWxlbWVudDtcclxuICAgICAgICBwb3B1cC5vcHRpb25zR2F0aGVyZXIgPSB0aGlzLnNlbGVjdE9wdGlvbnMub3B0aW9uc0dhdGhlcmVyO1xyXG4gICAgICAgIHBvcHVwLnRlbXBsYXRlR2F0aGVyZXIgPSB0aGlzLnNlbGVjdE9wdGlvbnMudGVtcGxhdGVHYXRoZXJlcjtcclxuICAgICAgICBwb3B1cC5pbml0T3B0aW9ucygpO1xyXG5cclxuICAgICAgICBpZih0aGlzLl9zZWxlY3RPcHRpb25zLnBsdWdpbnMgJiYgdGhpcy5fc2VsZWN0T3B0aW9ucy5wbHVnaW5zLnBvcHVwICYmIHRoaXMuX3NlbGVjdE9wdGlvbnMucGx1Z2lucy5wb3B1cC5pbnN0YW5jZUNhbGxiYWNrKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5fc2VsZWN0T3B0aW9ucy5wbHVnaW5zLnBvcHVwLmluc3RhbmNlQ2FsbGJhY2socG9wdXApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFNldHMgcG9zaXRpb25lciBjb21wb25lbnRcclxuICAgICAqIEBwYXJhbSBwb3NpdGlvbmVyIENyZWF0ZWQgcG9zaXRpb25lciB0aGF0IGlzIHJlbmRlcmVkXHJcbiAgICAgKiBAaW50ZXJuYWxcclxuICAgICAqL1xyXG4gICAgcHVibGljIHNldFBvc2l0aW9uZXJDb21wb25lbnQocG9zaXRpb25lcjogUG9zaXRpb25lcilcclxuICAgIHtcclxuICAgICAgICBpZighcG9zaXRpb25lcilcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuX3BsdWdpbkluc3RhbmNlc1tQT1NJVElPTkVSXSA9IHBvc2l0aW9uZXI7XHJcblxyXG4gICAgICAgIGlmKHRoaXMuX3NlbGVjdE9wdGlvbnMucGx1Z2lucyAmJiB0aGlzLl9zZWxlY3RPcHRpb25zLnBsdWdpbnMucG9zaXRpb25lciAmJiB0aGlzLl9zZWxlY3RPcHRpb25zLnBsdWdpbnMucG9zaXRpb25lci5vcHRpb25zKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgcG9zaXRpb25lci5vcHRpb25zID0gdGhpcy5fc2VsZWN0T3B0aW9ucy5wbHVnaW5zLnBvc2l0aW9uZXIub3B0aW9ucztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHBvc2l0aW9uZXIuc2VsZWN0RWxlbWVudCA9IHRoaXMuX2VsZW1lbnQubmF0aXZlRWxlbWVudDtcclxuICAgICAgICBwb3NpdGlvbmVyLm9wdGlvbnNHYXRoZXJlciA9IHRoaXMuc2VsZWN0T3B0aW9ucy5vcHRpb25zR2F0aGVyZXI7XHJcbiAgICAgICAgcG9zaXRpb25lci5pbml0T3B0aW9ucygpO1xyXG5cclxuICAgICAgICBpZih0aGlzLl9zZWxlY3RPcHRpb25zLnBsdWdpbnMgJiYgdGhpcy5fc2VsZWN0T3B0aW9ucy5wbHVnaW5zLnBvc2l0aW9uZXIgJiYgdGhpcy5fc2VsZWN0T3B0aW9ucy5wbHVnaW5zLnBvc2l0aW9uZXIuaW5zdGFuY2VDYWxsYmFjaylcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMuX3NlbGVjdE9wdGlvbnMucGx1Z2lucy5wb3NpdGlvbmVyLmluc3RhbmNlQ2FsbGJhY2socG9zaXRpb25lcik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogU2V0cyB0ZXh0cyBsb2NhdG9yIGNvbXBvbmVudFxyXG4gICAgICogQHBhcmFtIHRleHRzTG9jYXRvciBDcmVhdGVkIHRleHRzIGxvY2F0b3IgdGhhdCBpcyByZW5kZXJlZFxyXG4gICAgICogQGludGVybmFsXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzZXRUZXh0c0xvY2F0b3JDb21wb25lbnQodGV4dHNMb2NhdG9yOiBUZXh0c0xvY2F0b3IpXHJcbiAgICB7XHJcbiAgICAgICAgaWYoIXRleHRzTG9jYXRvcilcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuX3BsdWdpbkluc3RhbmNlc1tURVhUU19MT0NBVE9SXSA9IHRleHRzTG9jYXRvcjtcclxuXHJcbiAgICAgICAgaWYodGhpcy5fc2VsZWN0T3B0aW9ucy5wbHVnaW5zICYmIHRoaXMuX3NlbGVjdE9wdGlvbnMucGx1Z2lucy50ZXh0c0xvY2F0b3IgJiYgdGhpcy5fc2VsZWN0T3B0aW9ucy5wbHVnaW5zLnRleHRzTG9jYXRvci5vcHRpb25zKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGV4dHNMb2NhdG9yLm9wdGlvbnMgPSB0aGlzLl9zZWxlY3RPcHRpb25zLnBsdWdpbnMudGV4dHNMb2NhdG9yLm9wdGlvbnM7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0ZXh0c0xvY2F0b3IuaW5pdE9wdGlvbnMoKTtcclxuXHJcbiAgICAgICAgaWYodGhpcy5fc2VsZWN0T3B0aW9ucy5wbHVnaW5zICYmIHRoaXMuX3NlbGVjdE9wdGlvbnMucGx1Z2lucy50ZXh0c0xvY2F0b3IgJiYgdGhpcy5fc2VsZWN0T3B0aW9ucy5wbHVnaW5zLnRleHRzTG9jYXRvci5pbnN0YW5jZUNhbGxiYWNrKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5fc2VsZWN0T3B0aW9ucy5wbHVnaW5zLnRleHRzTG9jYXRvci5pbnN0YW5jZUNhbGxiYWNrKHRleHRzTG9jYXRvcik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogU2V0cyByZWFkb25seSBzdGF0ZSBjb21wb25lbnRcclxuICAgICAqIEBwYXJhbSByZWFkb25seVN0YXRlIENyZWF0ZWQgcmVhZG9ubHkgc3RhdGUgdGhhdCBpcyByZW5kZXJlZFxyXG4gICAgICogQGludGVybmFsXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzZXRSZWFkb25seVN0YXRlQ29tcG9uZW50KHJlYWRvbmx5U3RhdGU6IFJlYWRvbmx5U3RhdGUpXHJcbiAgICB7XHJcbiAgICAgICAgaWYoIXJlYWRvbmx5U3RhdGUpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLl9wbHVnaW5JbnN0YW5jZXNbUkVBRE9OTFlfU1RBVEVdID0gbnVsbDtcclxuXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuX3BsdWdpbkluc3RhbmNlc1tSRUFET05MWV9TVEFURV0gPSByZWFkb25seVN0YXRlO1xyXG4gICAgICAgIHRoaXMuX3BsdWdpbkluc3RhbmNlc1tOT1JNQUxfU1RBVEVdID0gcmVhZG9ubHlTdGF0ZTtcclxuXHJcbiAgICAgICAgaWYodGhpcy5fc2VsZWN0T3B0aW9ucy5wbHVnaW5zICYmIHRoaXMuX3NlbGVjdE9wdGlvbnMucGx1Z2lucy5yZWFkb25seVN0YXRlICYmIHRoaXMuX3NlbGVjdE9wdGlvbnMucGx1Z2lucy5yZWFkb25seVN0YXRlLm9wdGlvbnMpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICByZWFkb25seVN0YXRlLm9wdGlvbnMgPSB0aGlzLl9zZWxlY3RPcHRpb25zLnBsdWdpbnMucmVhZG9ubHlTdGF0ZS5vcHRpb25zO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IG9wdGlvbnMgPSByZWFkb25seVN0YXRlLm9wdGlvbnMgYXMgUmVhZG9ubHlTdGF0ZU9wdGlvbnM8YW55PjtcclxuXHJcbiAgICAgICAgb3B0aW9ucy5yZWFkb25seSA9IHRydWU7XHJcbiAgICAgICAgcmVhZG9ubHlTdGF0ZS5pbml0T3B0aW9ucygpO1xyXG5cclxuICAgICAgICBpZih0aGlzLl9zZWxlY3RPcHRpb25zLnBsdWdpbnMgJiYgdGhpcy5fc2VsZWN0T3B0aW9ucy5wbHVnaW5zLnJlYWRvbmx5U3RhdGUgJiYgdGhpcy5fc2VsZWN0T3B0aW9ucy5wbHVnaW5zLnJlYWRvbmx5U3RhdGUuaW5zdGFuY2VDYWxsYmFjaylcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMuX3NlbGVjdE9wdGlvbnMucGx1Z2lucy5yZWFkb25seVN0YXRlLmluc3RhbmNlQ2FsbGJhY2socmVhZG9ubHlTdGF0ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogU2V0cyB2YWx1ZSBoYW5kbGVyIGNvbXBvbmVudFxyXG4gICAgICogQHBhcmFtIHZhbHVlSGFuZGxlciBDcmVhdGVkIHZhbHVlIGhhbmRsZXIgdGhhdCBpcyByZW5kZXJlZFxyXG4gICAgICogQGludGVybmFsXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzZXRWYWx1ZUhhbmRsZXJDb21wb25lbnQodmFsdWVIYW5kbGVyOiBWYWx1ZUhhbmRsZXI8VFZhbHVlPilcclxuICAgIHtcclxuICAgICAgICBpZighdmFsdWVIYW5kbGVyKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5fcGx1Z2luSW5zdGFuY2VzW1ZBTFVFX0hBTkRMRVJdID0gdmFsdWVIYW5kbGVyO1xyXG5cclxuICAgICAgICBpZih0aGlzLl9zZWxlY3RPcHRpb25zLnBsdWdpbnMgJiYgdGhpcy5fc2VsZWN0T3B0aW9ucy5wbHVnaW5zLnZhbHVlSGFuZGxlciAmJiB0aGlzLl9zZWxlY3RPcHRpb25zLnBsdWdpbnMudmFsdWVIYW5kbGVyLm9wdGlvbnMpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB2YWx1ZUhhbmRsZXIub3B0aW9ucyA9IHRoaXMuX3NlbGVjdE9wdGlvbnMucGx1Z2lucy52YWx1ZUhhbmRsZXIub3B0aW9ucztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHZhbHVlSGFuZGxlci52YWx1ZUNvbXBhcmVyID0gdGhpcy5zZWxlY3RPcHRpb25zLnZhbHVlQ29tcGFyZXI7XHJcbiAgICAgICAgdmFsdWVIYW5kbGVyLm9wdGlvbnNHYXRoZXJlciA9IHRoaXMuc2VsZWN0T3B0aW9ucy5vcHRpb25zR2F0aGVyZXI7XHJcbiAgICAgICAgdmFsdWVIYW5kbGVyLmluaXRPcHRpb25zKCk7XHJcblxyXG4gICAgICAgIGlmKHRoaXMuX3NlbGVjdE9wdGlvbnMucGx1Z2lucyAmJiB0aGlzLl9zZWxlY3RPcHRpb25zLnBsdWdpbnMudmFsdWVIYW5kbGVyICYmIHRoaXMuX3NlbGVjdE9wdGlvbnMucGx1Z2lucy52YWx1ZUhhbmRsZXIuaW5zdGFuY2VDYWxsYmFjaylcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMuX3NlbGVjdE9wdGlvbnMucGx1Z2lucy52YWx1ZUhhbmRsZXIuaW5zdGFuY2VDYWxsYmFjayh2YWx1ZUhhbmRsZXIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFNldHMgbGl2ZSBzZWFyY2ggY29tcG9uZW50XHJcbiAgICAgKiBAcGFyYW0gbGl2ZVNlYXJjaCBDcmVhdGVkIGxpdmUgc2VhcmNoIHRoYXQgaXMgcmVuZGVyZWRcclxuICAgICAqIEBpbnRlcm5hbFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc2V0TGl2ZVNlYXJjaENvbXBvbmVudChsaXZlU2VhcmNoOiBMaXZlU2VhcmNoKVxyXG4gICAge1xyXG4gICAgICAgIGlmKCFsaXZlU2VhcmNoKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5fcGx1Z2luSW5zdGFuY2VzW0xJVkVfU0VBUkNIXSA9IGxpdmVTZWFyY2g7XHJcblxyXG4gICAgICAgIGlmKHRoaXMuX3NlbGVjdE9wdGlvbnMucGx1Z2lucyAmJiB0aGlzLl9zZWxlY3RPcHRpb25zLnBsdWdpbnMubGl2ZVNlYXJjaCAmJiB0aGlzLl9zZWxlY3RPcHRpb25zLnBsdWdpbnMubGl2ZVNlYXJjaC5vcHRpb25zKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgbGl2ZVNlYXJjaC5vcHRpb25zID0gdGhpcy5fc2VsZWN0T3B0aW9ucy5wbHVnaW5zLmxpdmVTZWFyY2gub3B0aW9ucztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxpdmVTZWFyY2guaW5pdE9wdGlvbnMoKTtcclxuXHJcbiAgICAgICAgaWYodGhpcy5fc2VsZWN0T3B0aW9ucy5wbHVnaW5zICYmIHRoaXMuX3NlbGVjdE9wdGlvbnMucGx1Z2lucy5saXZlU2VhcmNoICYmIHRoaXMuX3NlbGVjdE9wdGlvbnMucGx1Z2lucy5saXZlU2VhcmNoLmluc3RhbmNlQ2FsbGJhY2spXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLl9zZWxlY3RPcHRpb25zLnBsdWdpbnMubGl2ZVNlYXJjaC5pbnN0YW5jZUNhbGxiYWNrKGxpdmVTZWFyY2gpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMgcHVibGljIG1ldGhvZHMgIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjI1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogSW5pdGlhbGl6ZSBjb21wb25lbnQsIGF1dG9tYXRpY2FsbHkgY2FsbGVkIG9uY2UgaWYgbm90IGJsb2NrZWQgYnkgb3B0aW9uc1xyXG4gICAgICovXHJcbiAgICBwdWJsaWMgaW5pdGlhbGl6ZSgpXHJcbiAgICB7XHJcbiAgICAgICAgbGV0IGxpdmVTZWFyY2hQbHVnaW4gPSB0aGlzLl9wbHVnaW5JbnN0YW5jZXNbTElWRV9TRUFSQ0hdIGFzIExpdmVTZWFyY2g7XHJcbiAgICAgICAgdGhpcy5saXZlU2VhcmNoRWxlbWVudCA9IFtbbGl2ZVNlYXJjaFBsdWdpbi5saXZlU2VhcmNoRWxlbWVudF1dO1xyXG4gICAgICAgIHRoaXMuX2NoYW5nZURldGVjdG9yLmRldGVjdENoYW5nZXMoKTtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLnNlbGVjdE9wdGlvbnMub3B0aW9uc0dhdGhlcmVyLmluaXRpYWxpemVHYXRoZXJlcigpO1xyXG5cclxuICAgICAgICB0aGlzLl9wbHVnaW5JbnN0YW5jZXNbTElWRV9TRUFSQ0hdLmluaXRpYWxpemUoKTtcclxuICAgICAgICB0aGlzLl9wbHVnaW5JbnN0YW5jZXNbVEVYVFNfTE9DQVRPUl0uaW5pdGlhbGl6ZSgpO1xyXG4gICAgICAgIHRoaXMuX3BsdWdpbkluc3RhbmNlc1tLRVlCT0FSRF9IQU5ETEVSXS5pbml0aWFsaXplKCk7XHJcbiAgICAgICAgdGhpcy5fcGx1Z2luSW5zdGFuY2VzW1ZBTFVFX0hBTkRMRVJdLmluaXRpYWxpemUoKTtcclxuICAgICAgICB0aGlzLl9wbHVnaW5JbnN0YW5jZXNbTk9STUFMX1NUQVRFXS5pbml0aWFsaXplKCk7XHJcbiAgICAgICAgdGhpcy5fcGx1Z2luSW5zdGFuY2VzW1BPUFVQXS5pbml0aWFsaXplKCk7XHJcbiAgICAgICAgdGhpcy5fcGx1Z2luSW5zdGFuY2VzW1BPU0lUSU9ORVJdLmluaXRpYWxpemUoKTtcclxuXHJcbiAgICAgICAgdGhpcy5pc0luaXRpYWxpemVkID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLl9pbml0aWFsaXplZFN1YmplY3QubmV4dCh0cnVlKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEluaXRpYWxpemUgb3B0aW9ucywgYXV0b21hdGljYWx5IGNhbGxlZCBkdXJpbmcgaW5pdCBwaGFzZSwgYnV0IGNhbiBiZSB1c2VkIHRvIHJlaW5pdGlhbGl6ZSBOZ1NlbGVjdE9wdGlvbnNcclxuICAgICAqL1xyXG4gICAgcHVibGljIGluaXRPcHRpb25zKClcclxuICAgIHtcclxuICAgICAgICB0aGlzLnNlbGVjdE9wdGlvbnMub3B0aW9uc0dhdGhlcmVyLm5nU2VsZWN0UGx1Z2lucyA9IHRoaXMuX3BsdWdpbkluc3RhbmNlcztcclxuXHJcbiAgICAgICAgaWYodGhpcy5fc2VsZWN0T3B0aW9ucy5wbHVnaW5zKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgaWYodGhpcy5fc2VsZWN0T3B0aW9ucy5wbHVnaW5zLm5vcm1hbFN0YXRlKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9zZWxlY3RPcHRpb25zLnBsdWdpbnMubm9ybWFsU3RhdGUudHlwZSA9IHJlc29sdmVGb3J3YXJkUmVmKHRoaXMuX3NlbGVjdE9wdGlvbnMucGx1Z2lucy5ub3JtYWxTdGF0ZS50eXBlKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZih0aGlzLl9wbHVnaW5JbnN0YW5jZXNbTk9STUFMX1NUQVRFXSlcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBpZih0aGlzLl9zZWxlY3RPcHRpb25zLnBsdWdpbnMgJiYgdGhpcy5fc2VsZWN0T3B0aW9ucy5wbHVnaW5zLm5vcm1hbFN0YXRlICYmIHRoaXMuX3NlbGVjdE9wdGlvbnMucGx1Z2lucy5ub3JtYWxTdGF0ZS5vcHRpb25zKVxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fcGx1Z2luSW5zdGFuY2VzW05PUk1BTF9TVEFURV0ub3B0aW9ucyA9IHRoaXMuX3NlbGVjdE9wdGlvbnMucGx1Z2lucy5ub3JtYWxTdGF0ZS5vcHRpb25zO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IG5vcm1hbFN0YXRlID0gdGhpcy5fcGx1Z2luSW5zdGFuY2VzW05PUk1BTF9TVEFURV0gYXMgTm9ybWFsU3RhdGU7XHJcbiAgICAgICAgICAgICAgICAgICAgbm9ybWFsU3RhdGUudGVtcGxhdGVHYXRoZXJlciA9IHRoaXMuc2VsZWN0T3B0aW9ucy50ZW1wbGF0ZUdhdGhlcmVyO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9wbHVnaW5JbnN0YW5jZXNbTk9STUFMX1NUQVRFXS5pbml0T3B0aW9ucygpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZih0aGlzLl9zZWxlY3RPcHRpb25zLnBsdWdpbnMudGV4dHNMb2NhdG9yKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9zZWxlY3RPcHRpb25zLnBsdWdpbnMudGV4dHNMb2NhdG9yLnR5cGUgPSByZXNvbHZlRm9yd2FyZFJlZih0aGlzLl9zZWxlY3RPcHRpb25zLnBsdWdpbnMudGV4dHNMb2NhdG9yLnR5cGUpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmKHRoaXMuX3BsdWdpbkluc3RhbmNlc1tURVhUU19MT0NBVE9SXSlcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBpZih0aGlzLl9zZWxlY3RPcHRpb25zLnBsdWdpbnMgJiYgdGhpcy5fc2VsZWN0T3B0aW9ucy5wbHVnaW5zLnRleHRzTG9jYXRvciAmJiB0aGlzLl9zZWxlY3RPcHRpb25zLnBsdWdpbnMudGV4dHNMb2NhdG9yLm9wdGlvbnMpXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9wbHVnaW5JbnN0YW5jZXNbVEVYVFNfTE9DQVRPUl0ub3B0aW9ucyA9IHRoaXMuX3NlbGVjdE9wdGlvbnMucGx1Z2lucy50ZXh0c0xvY2F0b3Iub3B0aW9ucztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3BsdWdpbkluc3RhbmNlc1tURVhUU19MT0NBVE9SXS5pbml0T3B0aW9ucygpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZih0aGlzLl9zZWxlY3RPcHRpb25zLnBsdWdpbnMua2V5Ym9hcmRIYW5kbGVyKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9zZWxlY3RPcHRpb25zLnBsdWdpbnMua2V5Ym9hcmRIYW5kbGVyLnR5cGUgPSByZXNvbHZlRm9yd2FyZFJlZih0aGlzLl9zZWxlY3RPcHRpb25zLnBsdWdpbnMua2V5Ym9hcmRIYW5kbGVyLnR5cGUpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmKHRoaXMuX3BsdWdpbkluc3RhbmNlc1tLRVlCT0FSRF9IQU5ETEVSXSlcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBpZih0aGlzLl9zZWxlY3RPcHRpb25zLnBsdWdpbnMgJiYgdGhpcy5fc2VsZWN0T3B0aW9ucy5wbHVnaW5zLmtleWJvYXJkSGFuZGxlciAmJiB0aGlzLl9zZWxlY3RPcHRpb25zLnBsdWdpbnMua2V5Ym9hcmRIYW5kbGVyLm9wdGlvbnMpXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9wbHVnaW5JbnN0YW5jZXNbS0VZQk9BUkRfSEFORExFUl0ub3B0aW9ucyA9IHRoaXMuX3NlbGVjdE9wdGlvbnMucGx1Z2lucy5rZXlib2FyZEhhbmRsZXIub3B0aW9ucztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGxldCBrZXlib2FyZEhhbmRsZXIgPSB0aGlzLl9wbHVnaW5JbnN0YW5jZXNbS0VZQk9BUkRfSEFORExFUl0gYXMgS2V5Ym9hcmRIYW5kbGVyO1xyXG4gICAgICAgICAgICAgICAgICAgIGtleWJvYXJkSGFuZGxlci5zZWxlY3RFbGVtZW50ID0gdGhpcy5fZWxlbWVudC5uYXRpdmVFbGVtZW50O1xyXG4gICAgICAgICAgICAgICAgICAgIGtleWJvYXJkSGFuZGxlci5vcHRpb25zR2F0aGVyZXIgPSB0aGlzLnNlbGVjdE9wdGlvbnMub3B0aW9uc0dhdGhlcmVyO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9wbHVnaW5JbnN0YW5jZXNbS0VZQk9BUkRfSEFORExFUl0uaW5pdE9wdGlvbnMoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYodGhpcy5fc2VsZWN0T3B0aW9ucy5wbHVnaW5zLnBvcHVwKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9zZWxlY3RPcHRpb25zLnBsdWdpbnMucG9wdXAudHlwZSA9IHJlc29sdmVGb3J3YXJkUmVmKHRoaXMuX3NlbGVjdE9wdGlvbnMucGx1Z2lucy5wb3B1cC50eXBlKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZih0aGlzLl9wbHVnaW5JbnN0YW5jZXNbUE9QVVBdKVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKHRoaXMuX3NlbGVjdE9wdGlvbnMucGx1Z2lucyAmJiB0aGlzLl9zZWxlY3RPcHRpb25zLnBsdWdpbnMucG9wdXAgJiYgdGhpcy5fc2VsZWN0T3B0aW9ucy5wbHVnaW5zLnBvcHVwLm9wdGlvbnMpXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9wbHVnaW5JbnN0YW5jZXNbUE9QVVBdLm9wdGlvbnMgPSB0aGlzLl9zZWxlY3RPcHRpb25zLnBsdWdpbnMucG9wdXAub3B0aW9ucztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGxldCBwb3B1cCA9IHRoaXMuX3BsdWdpbkluc3RhbmNlc1tQT1BVUF0gYXMgUG9wdXA7XHJcbiAgICAgICAgICAgICAgICAgICAgcG9wdXAuc2VsZWN0RWxlbWVudCA9IHRoaXMuX2VsZW1lbnQubmF0aXZlRWxlbWVudDtcclxuICAgICAgICAgICAgICAgICAgICBwb3B1cC5vcHRpb25zR2F0aGVyZXIgPSB0aGlzLnNlbGVjdE9wdGlvbnMub3B0aW9uc0dhdGhlcmVyO1xyXG4gICAgICAgICAgICAgICAgICAgIHBvcHVwLnRlbXBsYXRlR2F0aGVyZXIgPSB0aGlzLnNlbGVjdE9wdGlvbnMudGVtcGxhdGVHYXRoZXJlcjtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fcGx1Z2luSW5zdGFuY2VzW1BPUFVQXS5pbml0T3B0aW9ucygpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZih0aGlzLl9zZWxlY3RPcHRpb25zLnBsdWdpbnMucG9zaXRpb25lcilcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fc2VsZWN0T3B0aW9ucy5wbHVnaW5zLnBvc2l0aW9uZXIudHlwZSA9IHJlc29sdmVGb3J3YXJkUmVmKHRoaXMuX3NlbGVjdE9wdGlvbnMucGx1Z2lucy5wb3NpdGlvbmVyLnR5cGUpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmKHRoaXMuX3BsdWdpbkluc3RhbmNlc1tQT1NJVElPTkVSXSlcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBpZih0aGlzLl9zZWxlY3RPcHRpb25zLnBsdWdpbnMgJiYgdGhpcy5fc2VsZWN0T3B0aW9ucy5wbHVnaW5zLnBvc2l0aW9uZXIgJiYgdGhpcy5fc2VsZWN0T3B0aW9ucy5wbHVnaW5zLnBvc2l0aW9uZXIub3B0aW9ucylcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3BsdWdpbkluc3RhbmNlc1tQT1NJVElPTkVSXS5vcHRpb25zID0gdGhpcy5fc2VsZWN0T3B0aW9ucy5wbHVnaW5zLnBvc2l0aW9uZXIub3B0aW9ucztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGxldCBwb3NpdGlvbmVyID0gdGhpcy5fcGx1Z2luSW5zdGFuY2VzW1BPU0lUSU9ORVJdIGFzIFBvc2l0aW9uZXI7XHJcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb25lci5zZWxlY3RFbGVtZW50ID0gdGhpcy5fZWxlbWVudC5uYXRpdmVFbGVtZW50O1xyXG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uZXIub3B0aW9uc0dhdGhlcmVyID0gdGhpcy5zZWxlY3RPcHRpb25zLm9wdGlvbnNHYXRoZXJlcjtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fcGx1Z2luSW5zdGFuY2VzW1BPU0lUSU9ORVJdLmluaXRPcHRpb25zKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmKHRoaXMuX3NlbGVjdE9wdGlvbnMucGx1Z2lucy5yZWFkb25seVN0YXRlKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9zZWxlY3RPcHRpb25zLnBsdWdpbnMucmVhZG9ubHlTdGF0ZS50eXBlID0gcmVzb2x2ZUZvcndhcmRSZWYodGhpcy5fc2VsZWN0T3B0aW9ucy5wbHVnaW5zLnJlYWRvbmx5U3RhdGUudHlwZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYodGhpcy5fcGx1Z2luSW5zdGFuY2VzW1JFQURPTkxZX1NUQVRFXSlcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBpZih0aGlzLl9zZWxlY3RPcHRpb25zLnBsdWdpbnMgJiYgdGhpcy5fc2VsZWN0T3B0aW9ucy5wbHVnaW5zLnJlYWRvbmx5U3RhdGUgJiYgdGhpcy5fc2VsZWN0T3B0aW9ucy5wbHVnaW5zLnJlYWRvbmx5U3RhdGUub3B0aW9ucylcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3BsdWdpbkluc3RhbmNlc1tSRUFET05MWV9TVEFURV0ub3B0aW9ucyA9IHRoaXMuX3NlbGVjdE9wdGlvbnMucGx1Z2lucy5yZWFkb25seVN0YXRlLm9wdGlvbnM7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBsZXQgb3B0aW9ucyA9IHRoaXMuX3BsdWdpbkluc3RhbmNlc1tSRUFET05MWV9TVEFURV0ub3B0aW9ucyBhcyBSZWFkb25seVN0YXRlT3B0aW9uczxhbnk+O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBvcHRpb25zLnJlYWRvbmx5ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9wbHVnaW5JbnN0YW5jZXNbUkVBRE9OTFlfU1RBVEVdLmluaXRPcHRpb25zKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmKHRoaXMuX3NlbGVjdE9wdGlvbnMucGx1Z2lucy52YWx1ZUhhbmRsZXIpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3NlbGVjdE9wdGlvbnMucGx1Z2lucy52YWx1ZUhhbmRsZXIudHlwZSA9IHJlc29sdmVGb3J3YXJkUmVmKHRoaXMuX3NlbGVjdE9wdGlvbnMucGx1Z2lucy52YWx1ZUhhbmRsZXIudHlwZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYodGhpcy5fcGx1Z2luSW5zdGFuY2VzW1ZBTFVFX0hBTkRMRVJdKVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKHRoaXMuX3NlbGVjdE9wdGlvbnMucGx1Z2lucyAmJiB0aGlzLl9zZWxlY3RPcHRpb25zLnBsdWdpbnMudmFsdWVIYW5kbGVyICYmIHRoaXMuX3NlbGVjdE9wdGlvbnMucGx1Z2lucy52YWx1ZUhhbmRsZXIub3B0aW9ucylcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3BsdWdpbkluc3RhbmNlc1tWQUxVRV9IQU5ETEVSXS5vcHRpb25zID0gdGhpcy5fc2VsZWN0T3B0aW9ucy5wbHVnaW5zLnZhbHVlSGFuZGxlci5vcHRpb25zO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHZhbHVlSGFuZGxlciA9IHRoaXMuX3BsdWdpbkluc3RhbmNlc1tWQUxVRV9IQU5ETEVSXSBhcyBWYWx1ZUhhbmRsZXI8VFZhbHVlPjtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWVIYW5kbGVyLnZhbHVlQ29tcGFyZXIgPSB0aGlzLnNlbGVjdE9wdGlvbnMudmFsdWVDb21wYXJlcjtcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZUhhbmRsZXIub3B0aW9uc0dhdGhlcmVyID0gdGhpcy5zZWxlY3RPcHRpb25zLm9wdGlvbnNHYXRoZXJlcjtcclxuICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9wbHVnaW5JbnN0YW5jZXNbVkFMVUVfSEFORExFUl0uaW5pdE9wdGlvbnMoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYodGhpcy5fc2VsZWN0T3B0aW9ucy5wbHVnaW5zLmxpdmVTZWFyY2gpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3NlbGVjdE9wdGlvbnMucGx1Z2lucy5saXZlU2VhcmNoLnR5cGUgPSByZXNvbHZlRm9yd2FyZFJlZih0aGlzLl9zZWxlY3RPcHRpb25zLnBsdWdpbnMubGl2ZVNlYXJjaC50eXBlKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZih0aGlzLl9wbHVnaW5JbnN0YW5jZXNbTElWRV9TRUFSQ0hdKVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKHRoaXMuX3NlbGVjdE9wdGlvbnMucGx1Z2lucyAmJiB0aGlzLl9zZWxlY3RPcHRpb25zLnBsdWdpbnMubGl2ZVNlYXJjaCAmJiB0aGlzLl9zZWxlY3RPcHRpb25zLnBsdWdpbnMubGl2ZVNlYXJjaC5vcHRpb25zKVxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fcGx1Z2luSW5zdGFuY2VzW0xJVkVfU0VBUkNIXS5vcHRpb25zID0gdGhpcy5fc2VsZWN0T3B0aW9ucy5wbHVnaW5zLmxpdmVTZWFyY2gub3B0aW9ucztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3BsdWdpbkluc3RhbmNlc1tMSVZFX1NFQVJDSF0uaW5pdE9wdGlvbnMoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEV4cGxpY2l0bHkgcnVucyBpbnZhbGlkYXRpb24gb2YgY29udGVudCAoY2hhbmdlIGRldGVjdGlvbilcclxuICAgICAqL1xyXG4gICAgcHVibGljIGludmFsaWRhdGVWaXN1YWxzKCk6IHZvaWRcclxuICAgIHtcclxuICAgICAgICB0aGlzLl9jaGFuZ2VEZXRlY3Rvci5kZXRlY3RDaGFuZ2VzKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXRzIGluc3RhbmNlIG9mIHBsdWdpbiBieSBpdHMgaWRcclxuICAgICAqIEBwYXJhbSBwbHVnaW5JZCBJZCBvZiBwbHVnaW4sIHVzZSBjb25zdGFudHNcclxuICAgICAqL1xyXG4gICAgcHVibGljIGdldFBsdWdpbjxQbHVnaW5UeXBlIGV4dGVuZHMgTmdTZWxlY3RQbHVnaW4+KHBsdWdpbklkOiBzdHJpbmcpOiBQbHVnaW5UeXBlXHJcbiAgICB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3BsdWdpbkluc3RhbmNlc1twbHVnaW5JZF0gYXMgUGx1Z2luVHlwZTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEV4ZWN1dGVzIGFjdGlvbnMgb24gTmdTZWxlY3RcclxuICAgICAqIEBwYXJhbSBhY3Rpb25zIEFycmF5IG9mIGFjdGlvbnMgdGhhdCBhcmUgZXhlY3V0ZWQgb3ZlciBOZ1NlbGVjdFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZXhlY3V0ZSguLi5hY3Rpb25zOiBOZ1NlbGVjdEFjdGlvbjxUVmFsdWU+W10pXHJcbiAgICB7XHJcbiAgICAgICAgaWYoIWFjdGlvbnMpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBhY3Rpb25zLmZvckVhY2goYWN0aW9uID0+IGFjdGlvbih0aGlzKSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBFeGVjdXRlcyBmdW5jdGlvbiBvbiBOZ1NlbGVjdCBhbmQgcmV0dXJucyByZXN1bHRcclxuICAgICAqIEBwYXJhbSBmdW5jIEZ1bmN0aW9uIHRoYXQgaXMgZXhlY3V0ZWQgYW5kIGl0cyByZXN1bHQgaXMgcmV0dXJuZWRcclxuICAgICAqL1xyXG4gICAgcHVibGljIGV4ZWN1dGVBbmRSZXR1cm48VFJlc3VsdD4oZnVuYzogTmdTZWxlY3RGdW5jdGlvbjxUUmVzdWx0LCBUVmFsdWU+KTogVFJlc3VsdFxyXG4gICAge1xyXG4gICAgICAgIGlmKCFmdW5jKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gZnVuYyh0aGlzKTtcclxuICAgIH1cclxufSJdfQ==